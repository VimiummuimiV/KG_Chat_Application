// ==UserScript==
// @name         KG_Chat_Application
// @namespace    klavogonki
// @version      1.0.0
// @description  Enhance the chat abilities
// @author       Patcher
// @match        *://klavogonki.ru/*
// @exclude      https://klavogonki.ru/g/?gmid=*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=klavogonki.ru
// @grant        none
// ==/UserScript==

(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},r=[],s=0;s<e.length;s++){var c=e[s],l=i.base?c[0]+i.base:c[0],d=o[l]||0,p="".concat(l," ").concat(d);o[l]=d+1;var m=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var u=a(h,i);i.byIndex=s,t.splice(s,0,{identifier:p,updater:u,references:1})}r.push(p)}return r}function a(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=i(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var s=n(o[r]);t[s].references--}for(var c=i(e,a),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},498:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(601),a=n.n(i),o=n(314),r=n.n(o)()(a());r.push([e.id,".emoji-panel {\n  position: absolute !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  background: #1e1e1e !important;\n  border: 1px solid #333 !important;\n  border-radius: 0.4em !important;\n  width: 350px;\n  height: 400px;\n  display: flex;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.15s ease-out;\n  flex-direction: column;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;\n  z-index: 1000;\n}\n\n.emoji-panel.visible {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.emoji-search-container {\n  padding: 1em !important;\n  border: none !important;\n}\n\n.emoji-search {\n  width: 100%;\n  padding: 8px;\n  border-radius: 4px;\n  background: #2a2a2a !important;\n  border: none !important;\n  border-radius: 0.2em !important;\n  color: #deb887 !important;\n  caret-color: #deb887 !important;\n  font-size: 0.9em !important;\n}\n\n.emoji-search:focus {\n  outline: none;\n  border-color: #666;\n}\n\n.emoji-categories {\n  position: sticky !important;\n  top: 0 !important;\n  display: flex !important;\n  flex-direction: row !important;\n  padding: 4px 4px 6px 4px !important;\n  border-bottom: 1px solid #333 !important;\n  gap: 2px !important;\n  justify-content: center !important;\n  overflow-x: auto !important;\n  scrollbar-width: thin !important;\n}\n\n.emoji-category-btn {\n  position: relative !important;\n  background: none !important;\n  border: none !important;\n  padding: 6px !important;\n  cursor: pointer !important;\n  opacity: 0.7 !important;\n  transition: opacity 0.2s !important;\n  font-size: 16px !important;\n  min-width: 32px !important;\n  height: 32px !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  border-bottom: 2px solid transparent !important;\n}\n\n/* Active category button gets a 3px {color} border */\n.emoji-category-btn.active {\n  opacity: 1;\n  border-bottom: 3px solid goldenrod !important;\n}\n\n.emoji-container {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden !important;\n  padding: 8px;\n  display: block;\n  /* Using block to allow sections stacking */\n  width: 100% !important;\n  max-width: 100% !important;\n}\n\n.emoji-category-section {\n  margin-bottom: 10px;\n}\n\n.emoji-category-header {\n  padding: 8px !important;\n  color: #deb887 !important;\n  font-size: 0.9em !important;\n  position: sticky !important;\n  top: -10px !important;\n  background: #1e1e1e !important;\n  z-index: 1 !important;\n  border-bottom: 1px solid #333 !important;\n  width: 100% !important;\n  box-sizing: border-box !important;\n  margin: 0 !important;\n}\n\n.emoji-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(32px, 1fr)) !important;\n  gap: 4px;\n  align-content: start;\n}\n\n.emoji-btn {\n  background: none;\n  border: none;\n  padding: 4px !important;\n  cursor: pointer;\n  font-size: 18px !important;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n  width: 100% !important;\n  height: 100% !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  aspect-ratio: 1 !important;\n}\n\n.emoji-btn:hover {\n  background-color: #333;\n}\n\n/* Info panel fixed at bottom with a 50px height */\n.emoji-info-panel {\n  height: 30px !important;\n  padding: 8px !important;\n  border-top: 1px solid #333 !important;\n  display: flex !important;\n  align-items: center !important;\n  gap: 8px !important;\n  color: #deb887 !important;\n  font-size: 0.9em !important;\n  background: #1e1e1e !important;\n}\n\n.emoji-info-icon {\n  font-size: 1.2em !important;\n}\n\n.emoji-info-keywords {\n  color: #888 !important;\n  font-style: italic !important;\n}\n\n/* Scrollbar styling */\n.emoji-container::-webkit-scrollbar,\n.emoji-categories::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.emoji-container::-webkit-scrollbar-track,\n.emoji-categories::-webkit-scrollbar-track {\n  background: #1e1e1e;\n}\n\n.emoji-container::-webkit-scrollbar-thumb,\n.emoji-categories::-webkit-scrollbar-thumb {\n  background: #444;\n  border-radius: 3px;\n}\n\n.emoji-container::-webkit-scrollbar-thumb:hover,\n.emoji-categories::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}",""]);const s=r},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},919:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(601),a=n.n(i),o=n(314),r=n.n(o)()(a());r.push([e.id,'/* Variables */\n:root {\n  --border-radius: 0.2em;\n  --min-chat-width: 420px;\n  --min-chat-height: 200px;\n  --user-list-width: fit-content;\n}\n\n/* Main chat container */\n#app-chat-container {\n  border-radius: 0.4em 0.4em 0 0 !important;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  height: 300px;\n  background: #1e1e1e !important;\n  border: 1px solid #333 !important;\n  display: flex;\n  font-family: sans-serif;\n  color: #deb887 !important;\n  z-index: 999;\n  min-width: var(--min-chat-width) !important;\n  min-height: var(--min-chat-height) !important;\n  box-sizing: border-box;\n  max-width: 100vw;\n  overflow: hidden;\n  transition: opacity 0.3s ease, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n/* Chat container states */\n#app-chat-container.maximized {\n  position: fixed;\n  z-index: 1010;\n}\n\n#app-chat-container:not(.visible-chat):not(.hidden-chat):not(.maximized):not(.floating-chat) {\n  display: none;\n  opacity: 0;\n}\n\n#app-chat-container.visible-chat {\n  transform: translateY(0) !important;\n}\n\n#app-chat-container.hidden-chat {\n  opacity: 1;\n  transform: translateY(calc(100% - 25px)) !important;\n}\n\n#app-chat-container.floating-chat {\n  border-radius: 0.4em !important;\n}\n\n/* Responsive styles */\n@media (max-width: 780px) {\n  #app-chat-container .user-list-container {\n    display: none !important;\n  }\n\n  #app-chat-container .chat-wrapper {\n    width: 100% !important;\n    border-right: none !important;\n  }\n}\n\n@media (max-width: 550px) {\n  #app-chat-container .message {\n    flex-direction: column !important;\n    margin-bottom: 1em !important;\n  }\n}\n\n/* Font size control */\n#app-chat-container .font-size-control {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  height: 25px !important;\n  padding: 0 10px !important;\n  gap: 5px !important;\n  z-index: 6 !important;\n}\n\n#app-chat-container .font-size-label {\n  color: #deb887 !important;\n  cursor: default !important;\n  user-select: none !important;\n}\n\n#app-chat-container .font-size-label.small {\n  font-size: 0.8em !important;\n}\n\n#app-chat-container .font-size-label.large {\n  font-size: 1.2em !important;\n}\n\n#app-chat-container .font-size-slider {\n  width: 80px !important;\n  height: 4px !important;\n  -webkit-appearance: none !important;\n  appearance: none !important;\n  background: #333 !important;\n  outline: none !important;\n  border-radius: 2px !important;\n  transition: opacity 0.2s !important;\n}\n\n#app-chat-container .font-size-slider::-webkit-slider-thumb {\n  -webkit-appearance: none !important;\n  appearance: none !important;\n  width: 10px !important;\n  height: 10px !important;\n  border-radius: 50% !important;\n  background: #deb887 !important;\n  cursor: pointer !important;\n}\n\n#app-chat-container .font-size-slider::-moz-range-thumb {\n  width: 10px !important;\n  height: 10px !important;\n  border-radius: 50% !important;\n  background: #deb887 !important;\n  cursor: pointer !important;\n  border: none !important;\n}\n\n/* Resize handles */\n#app-chat-container .resize-handle {\n  position: absolute !important;\n  background: transparent !important;\n  z-index: 1000 !important;\n}\n\n#app-chat-container .resize-handle.top {\n  top: -3px !important;\n  left: 0 !important;\n  right: 0 !important;\n  height: 6px !important;\n  cursor: ns-resize !important;\n}\n\n#app-chat-container .resize-handle.left {\n  left: -3px !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  width: 6px !important;\n  cursor: ew-resize !important;\n}\n\n#app-chat-container .resize-handle.right {\n  right: -3px !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  width: 6px !important;\n  cursor: ew-resize !important;\n}\n\n/* Chat wrapper: two-column layout */\n#app-chat-container .chat-wrapper {\n  display: flex !important;\n  flex-direction: row !important;\n  flex: 1 !important;\n  min-width: var(--min-chat-width) !important;\n  overflow: hidden !important;\n}\n\n/* Left column: messages & input */\n#app-chat-container .chat-content {\n  margin-top: 25px !important;\n  background: #1e1e1e !important;\n  display: flex !important;\n  flex-direction: column !important;\n  flex: 1 !important;\n  overflow: hidden !important;\n}\n\n/* Messages panel takes most of the space */\n#app-chat-container .messages-panel {\n  flex: 1 !important;\n  overflow-y: auto !important;\n  overflow-x: hidden !important;\n  padding: 1em !important;\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 0.6em !important;\n}\n\n/* Input container at bottom */\n#app-chat-container .input-container {\n  display: flex !important;\n  padding: 1em !important;\n  gap: 0.5em !important;\n  border-top: 1px solid #333 !important;\n}\n\n#app-chat-container #message-input {\n  flex: 1 !important;\n  background: #2a2a2a !important;\n  color: #deb887 !important;\n  padding: 0.5em !important;\n  border-radius: var(--border-radius) !important;\n  min-width: 0 !important;\n  border: none !important;\n  position: relative;\n  font-family: inherit !important;\n  /* Remove any fixed font-size to properly inherit from container */\n  line-height: normal !important;\n  transition: font-size 0.2s ease !important;\n}\n\n#app-chat-container #message-input.private-mode {\n  background-color: #ff6b6b38 !important;\n  color: #ff6b6b !important;\n  caret-color: #ff6b6b !important;\n}\n\n#app-chat-container #message-input.private-mode::placeholder {\n  color: #ff6b6b99;\n}\n\n#app-chat-container #messages-panel.private-mode::after {\n  content: "ğŸ”’";\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  font-size: 10px;\n  opacity: 0.5;\n}\n\n/* Right column: user list container */\n#app-chat-container .user-list-container {\n  margin-top: 25px;\n  width: var(--user-list-width) !important;\n  min-width: 180px !important;\n  max-width: var(--user-list-width) !important;\n  overflow-y: auto !important;\n  overflow-x: hidden !important;\n  padding: 1em !important;\n  background: #1e1e1e !important;\n  border-left: 1px solid #333 !important;\n}\n\n/* Message styles */\n#app-chat-container .message {\n  display: flex;\n  flex-direction: row;\n  padding: 0.08em 0.8em !important;\n  border-radius: var(--border-radius) !important;\n  width: fit-content !important;\n  max-width: 100% !important;\n  word-break: break-word !important;\n}\n\n#app-chat-container .message.system {\n  background-color: #ffa50020 !important;\n  border: 1px solid #ffa60030 !important;\n  border-left: 3px solid #ffa500 !important;\n}\n\n#app-chat-container .message.system .time {\n  color: #ffa50060 !important;\n}\n\n#app-chat-container .message.system .username,\n#app-chat-container .message.system .message-text {\n  color: #ffa500 !important;\n}\n\n#app-chat-container .message.sent {\n  background: #00ff0020 !important;\n  border: 1px solid #00ff0030 !important;\n  border-left: 3px solid #00ff00 !important;\n}\n\n#app-chat-container .message.sent .time {\n  color: #00ff0060 !important;\n}\n\n#app-chat-container .message.sent .username,\n#app-chat-container .message.sent .message-text {\n  color: #00ff00 !important;\n}\n\n#app-chat-container .message.received {\n  background-color: #ff4d4d20 !important;\n  border: 1px solid #ff4d4d30 !important;\n  border-left: 3px solid #ff4d4d !important;\n}\n\n#app-chat-container .message.received .time {\n  color: #ff4d4d60 !important;\n}\n\n#app-chat-container .message.received .username,\n#app-chat-container .message.received .message-text {\n  color: #ff4d4d !important;\n}\n\n/* Private message styling */\n.message.private-message {\n  background-color: #ffdcdc20;\n  border-left: 3px solid #ff6b6b50;\n}\n\n.message.private-message .message-text {\n  color: #ff6b6b !important;\n}\n\n.message.private-message:not(.sent) {\n  animation: privateMessagePulse 2s ease-in-out 1;\n}\n\n/* Sent private message styling */\n.message.private-message.sent {\n  background: #293e2938 !important;\n  border: 1px solid #293e2959 !important;\n}\n\n/* Received private message styling */\n.message.private-message.received {\n  background-color: #1e1e1e26 !important;\n  border: 1px solid #33333359 !important;\n}\n\n/* Add a subtle animation for received private messages */\n@keyframes privateMessagePulse {\n  0% {\n    background-color: #ffdcdc26;\n  }\n\n  50% {\n    background-color: #ffdcdc4d;\n  }\n\n  100% {\n    background-color: #ffdcdc26;\n  }\n}\n\n#app-chat-container .message-info {\n  margin-right: 1em !important;\n  white-space: nowrap !important;\n}\n\n/* Ensure time and username elements maintain their relative sizes */\n#app-chat-container .message-info .time {\n  font-size: 0.9em !important;\n  margin-right: 1em !important;\n  color: #666 !important;\n}\n\n#app-chat-container .username {\n  font-size: 1em !important;\n}\n\n/* Add to existing style.css content */\n#app-chat-container .message-info .username,\n#app-chat-container .user-info .username {\n  cursor: pointer !important;\n  transition: opacity 0.2s ease !important;\n}\n\n#app-chat-container .message-info .username:hover,\n#app-chat-container .user-info .username:hover {\n  opacity: 0.7 !important;\n}\n\n#app-chat-container .message-info .time {\n  margin-right: 1em !important;\n  font-size: 0.9em !important;\n  color: #666 !important;\n}\n\n/* User list item styles */\n#app-chat-container .user-item {\n  display: flex !important;\n  align-items: center !important;\n  padding: 0.2em !important;\n  margin-bottom: 0.2em !important;\n  border-radius: var(--border-radius) !important;\n  max-width: 100% !important;\n  text-overflow: ellipsis !important;\n}\n\n#app-chat-container .user-avatar {\n  display: flex !important;\n  justify-content: center !important;\n  align-items: center !important;\n  width: 24px !important;\n  height: 24px !important;\n  font-size: 18px !important;\n  border-radius: 0.1em !important;\n  margin-right: 1em !important;\n  text-align: center !important;\n  line-height: 24px !important;\n  flex-shrink: 0 !important;\n}\n\n#app-chat-container .user-avatar.image-avatar {\n  cursor: pointer !important;\n  transform-origin: left !important;\n  transition: transform 0.15s ease-out !important;\n}\n\n#app-chat-container .user-avatar.image-avatar:hover {\n  transform: scale(2) !important;\n}\n\n#app-chat-container .user-avatar.svg-avatar {\n  filter: grayscale(0.5) !important;\n}\n\n#app-chat-container .user-info {\n  flex: 1 !important;\n  min-width: 0 !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n\n#app-chat-container .user-meta {\n  cursor: default;\n  font-size: 0.8em !important;\n  color: #b0b0b0 !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n\n#app-chat-container .game-link {\n  color: #deb887 !important;\n  text-decoration: none !important;\n  transition: color 0.15s !important;\n}\n\n#app-chat-container .role-moderator {\n  color: #ff7e7e !important;\n}\n\n#app-chat-container .role-participant {\n  color: #7ed4ff !important;\n}\n\n#app-chat-container .role-visitor {\n  color: #b0b0b0 !important;\n}\n\n#app-chat-container .role.participant {\n  filter: brightness(0.6) !important;\n}\n\n#app-chat-container .role.visitor {\n  filter: brightness(0.8) !important;\n}\n\n/* Header toggle button */\n#app-chat-container .header-button {\n  cursor: pointer !important;\n  position: absolute !important;\n  top: 0 !important;\n  width: 25px !important;\n  height: 25px !important;\n  z-index: 5 !important;\n}\n\n#app-chat-container .filled-button {\n  border: none !important;\n  background-color: transparent !important;\n  transition: all 0.15s ease-out;\n}\n\n#app-chat-container .filled-button:hover {\n  filter: brightness(1.2) !important;\n}\n\n#app-chat-container .emoji-trigger {\n  height: 28px !important;\n  width: 28px !important;\n  font-size: 1.5em !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  line-height: 1 !important; /* Ensure the emoji is vertically centered */\n}\n\n#app-chat-container .emoji-trigger::before {\n  transform-origin: center !important;\n  transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;\n  content: "ğŸ™‚";\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  line-height: 1 !important; /* Ensure the emoji is vertically centered */\n}\n\n/* on hover, rotate the emoji trigger smoothly */\n#app-chat-container .emoji-trigger:hover {\n  filter: none !important;\n  transform: rotate(180deg) !important;\n}\n\n#app-chat-container .chat-toggle-button {\n  right: 0 !important;\n}\n\n/* Maximize button positioning and styling */\n.chat-maximize-button {\n  right: 25px !important;\n}\n\n/* Drag area for floating the chat */\n#app-chat-container .chat-drag-area {\n  border-radius: 0.4em 0.4em 0 0 !important;\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  height: 25px !important;\n  cursor: move !important;\n  background-color: #161616cc !important;\n}\n\n/* Dimming background style */\n.dimming-element {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #00000080;\n  z-index: 1010 !important;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n/* convertImageLinksToImage */\n.clickable-thumbnail {\n  opacity: 1;\n  transition: opacity 0.15s ease-in-out;\n  border: none;\n  max-width: 150px !important;\n  max-height: 150px !important;\n  cursor: pointer;\n  background-color: transparent;\n  padding: 2px;\n  margin: 6px;\n  overflow-y: auto;\n}\n\n.clickable-thumbnail img {\n  border-radius: var(--border-radius) !important;\n  object-fit: contain;\n  height: 100%;\n  width: 100%;\n}\n\n.clickable-thumbnail:hover {\n  opacity: 0.8;\n}\n\n.scaled-thumbnail {\n  top: 50%;\n  left: 50%;\n  transform-origin: center center;\n  transform: translate(-50%, -50%) scale(1);\n  position: fixed;\n  opacity: 0;\n  z-index: 1015 !important;\n  transform-origin: center center;\n  max-height: 90vh;\n  max-width: 90vw;\n  cursor: pointer;\n  border-radius: 0.6em !important;\n  box-shadow: 0 4px 6px #0000004d, 0 1px 3px #00000047 !important;\n}\n\n/* convertVideoLinksToPlayer */\n.video-wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n.video-wrapper .processed-video {\n  margin-bottom: 0.6em !important;\n}\n\n.video-container {\n  border-radius: 0.4em !important;\n  display: flex;\n  border: none;\n  height: 200px !important;\n  width: 356px !important;\n}',""]);const s=r}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var i=n(72),a=n.n(i),o=n(825),r=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),p=n(540),m=n.n(p),h=n(113),u=n.n(h),g=n(919),f={};f.styleTagTransform=u(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=m();a()(g.A,f);g.A&&g.A.locals&&g.A.locals;const b="https://klavogonki.ru",y=`${b}/xmpp-httpbind/`,v={get username(){const e=localStorage.getItem("klavoauth");return e?JSON.parse(e).username:""},get password(){const e=localStorage.getItem("klavoauth");return e?JSON.parse(e).password:""}},w=["ğŸ˜€","ğŸ˜","ğŸ˜‚","ğŸ¤£","ğŸ˜ƒ","ğŸ˜„","ğŸ˜…","ğŸ˜†","ğŸ˜‰","ğŸ˜Š","ğŸ˜‹","ğŸ˜","ğŸ˜","ğŸ˜","ğŸ˜‘","ğŸ˜’","ğŸ˜“","ğŸ˜”","ğŸ˜•","ğŸ˜–","ğŸ˜—","ğŸ˜˜","ğŸ˜™","ğŸ˜š","ğŸ˜œ","ğŸ˜","ğŸ˜›","ğŸ¤‘","ğŸ¤—","ğŸ¤”","ğŸ¤","ğŸ¤¨","ğŸ˜£","ğŸ˜¥","ğŸ˜®","ğŸ¤¯","ğŸ˜³","ğŸ˜±","ğŸ˜¨","ğŸ˜°","ğŸ˜¢","ğŸ¤ª","ğŸ˜µ","ğŸ˜²","ğŸ¤¤","ğŸ˜·","ğŸ¤’","ğŸ¤•","ğŸ¤¢","ğŸ¤§","ğŸ˜‡","ğŸ¥³","ğŸ¥º","ğŸ˜¬","ğŸ˜´","ğŸ˜Œ","ğŸ¤¥","ğŸ¥´","ğŸ¥µ","ğŸ¥¶","ğŸ¤§","ğŸ¤­","ğŸ¤«","ğŸ˜ ","ğŸ˜¡","ğŸ˜³","ğŸ˜","ğŸ˜Ÿ","ğŸ˜•","ğŸ±","ğŸ˜º","ğŸ˜¸","ğŸ˜¹","ğŸ˜»","ğŸ˜¼","ğŸ˜½","ğŸ™€","ğŸ˜¿","ğŸ˜¾","ğŸ¶","ğŸ­","ğŸ¹","ğŸ°","ğŸ¦Š","ğŸ»","ğŸ¼","ğŸ¨","ğŸ¯","ğŸ¦","ğŸ®","ğŸ·","ğŸ¸","ğŸµ","ğŸ™ˆ","ğŸ™‰","ğŸ™Š","ğŸ”","ğŸ¦„"];let x={bigImageEvents:{}};const k=["klavogonki.ru","youtube.com","youtu.be","imgur.com","pikabu.ru","userapi.com","ibb.co","yaplakal.com","freepik.com"];class E{constructor({username:e,password:t,bindUrl:n,delay:i=1e3}){this.username=e,this.password=t,this.bindUrl=n,this.delay=i,this.sid=null,this.rid=Math.floor(Date.now()/1e3)}nextRid(){return++this.rid}async sendRequest(e){const t=await fetch(this.bindUrl,{method:"POST",headers:{"Content-Type":"text/xml; charset=UTF-8","User-Agent":"Mozilla/5.0"},body:e});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.text()}async sendRequestWithRetry(e,t=5){let n,i=this.delay;for(let a=1;a<=t;a++)try{return await this.sendRequest(e)}catch(e){if(n=e,!e.message.includes("429"))throw e;{const e=i*Math.pow(2,a);console.log(`â±ï¸ Rate limited (attempt ${a}/${t}). Waiting ${e}ms...`),await this.sleep(e)}}throw new Error(`Max retries reached. Last error: ${n.message}`)}sleep(e){return new Promise((t=>setTimeout(t,e)))}base64Encode(e){const t=(new TextEncoder).encode(e);return btoa(String.fromCharCode(...t))}async connect(){console.log("ğŸŒ Step 1: Connecting to XMPP server...");const e=`<body xmlns='http://jabber.org/protocol/httpbind'\n               rid='${this.nextRid()}'\n               to='jabber.klavogonki.ru'\n               xml:lang='en'\n               wait='60'\n               hold='1'\n               ver='1.6'\n               xmpp:version='1.0'\n               xmlns:xmpp='urn:xmpp:xbosh'/>`,t=await this.sendRequestWithRetry(e);this.sid=t.match(/sid=['"]([^'"]+)['"]/)[1],console.log(`ğŸ”‘ Step 2: Session ID received: ${this.sid}`),await this.sleep(this.delay/8),console.log("ğŸ” Step 3: Authenticating...");const n=this.base64Encode("\0"+this.username+"\0"+this.password),i=`<body rid='${this.nextRid()}' sid='${this.sid}'\n               xmlns='http://jabber.org/protocol/httpbind'>\n          <auth xmlns='urn:ietf:params:xml:ns:xmpp-sasl' mechanism='PLAIN'>${n}</auth>\n        </body>`;if(!(await this.sendRequestWithRetry(i)).includes("<success"))throw new Error("âŒ Authentication failed");console.log("âœ… Step 4: Authentication successful!"),await this.sleep(this.delay/8),console.log("ğŸ”„ Step 5: Restarting stream...");const a=`<body rid='${this.nextRid()}' sid='${this.sid}'\n               xmlns='http://jabber.org/protocol/httpbind'\n               to='jabber.klavogonki.ru'\n               xmpp:restart='true'\n               xmlns:xmpp='urn:xmpp:xbosh'/>`;await this.sendRequestWithRetry(a),await this.sleep(this.delay/8),console.log("ğŸ“¦ Step 6: Binding resource...");const o=`<body rid='${this.nextRid()}' sid='${this.sid}'\n               xmlns='http://jabber.org/protocol/httpbind'>\n          <iq type='set' id='bind_1' xmlns='jabber:client'>\n            <bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>\n              <resource>web</resource>\n            </bind>\n          </iq>\n        </body>`;await this.sendRequestWithRetry(o),await this.sleep(this.delay/8),console.log("ğŸ”Œ Step 7: Establishing session...");const r=`<body rid='${this.nextRid()}' sid='${this.sid}'\n               xmlns='http://jabber.org/protocol/httpbind'>\n          <iq type='set' id='session_1' xmlns='jabber:client'>\n            <session xmlns='urn:ietf:params:xml:ns:xmpp-session'/>\n          </iq>\n        </body>`;return await this.sendRequestWithRetry(r),await this.sleep(this.delay/8),{sid:this.sid,rid:this.rid}}}const j=["jpg","jpeg","png","gif","webp"],S="ğŸ“¸",L="ğŸ–¥ï¸",C="ğŸ’€ï¸ï¸",z=.2,I=10,$=.1;let M=0,T=!1,A=[],N=null;const P=e=>{const t=(e=>{try{return e.match(/\.([^?#.]+)(?:[?#]|$)/i)?.[1]?.toLowerCase()||""}catch(e){return console.error("Error extracting extension:",e.message),""}})(e);return{allowed:j.includes(t),extension:t}},R=(e,t)=>{const n=document.createElement("img");n.src=e,n.classList.add("scaled-thumbnail"),document.body.appendChild(n),M=t;let i=1,a=!1,o=0,r=0,s=0,c=0;let l=document.querySelector(".dimming-element");l||(l=document.createElement("div"),l.classList.add("dimming-element"),document.body.appendChild(l));const d=e=>{me(e,"hide","0"),!document.querySelector(".popup-panel")&&l&&me(l,"hide","0"),pe()};return x.bigImageEvents.click=e=>{n.contains(e.target)||(n.remove(),pe())},x.bigImageEvents.keydown=e=>{"Escape"===e.code||"Space"===e.code?(e.preventDefault(),d(n)):"ArrowLeft"===e.code?q(-1):"ArrowRight"===e.code&&q(1)},x.bigImageEvents.wheel=e=>{const t=e.deltaY<0?1:-1;i+=t*$*i,i=Math.max(z,Math.min(i,I)),n.style.transform=`translate(-50%, -50%) translate(${s}px, ${c}px) scale(${i})`},x.bigImageEvents.mousemove=e=>{if(a){if(e.ctrlKey){const t=e.clientY-r,n=t<0?1:-1,a=Math.abs(t)*$*.05;i+=n*a*i,i=Math.max(z,Math.min(i,I))}else{const t=(e.clientX-o)/i*5,n=(e.clientY-r)/i*5;s+=t,c+=n}n.style.transform=`translate(-50%, -50%) translate(${s}px, ${c}px) scale(${i})`,o=e.clientX,r=e.clientY}},x.bigImageEvents.mousedown=e=>{const{button:t,clientX:i,clientY:s,target:c,ctrlKey:l}=e;(0!==t&&2!==t||c===n)&&(0===t?q(-1):2===t?(e.preventDefault(),l?(navigator.clipboard.writeText(c.src).catch(console.error),d(n)):q(1)):1===t&&(a=!0,o=i,r=s,e.preventDefault()))},x.bigImageEvents.mouseup=e=>{1===e.button&&(a=!1)},x.bigImageEvents.contextmenu=e=>e.preventDefault(),Object.entries(x.bigImageEvents).forEach((([e,t])=>{document.addEventListener(e,t)})),me(l,"show","1"),l.addEventListener("click",(()=>{d(n)})),n},q=e=>{const t=M+e;t>=0&&t<A.length&&!T&&(T=!0,N&&(N.src=A[t].imgSrc),setTimeout((()=>T=!1),50),M=t)};function B(e){const t=document.getElementById("messages-panel");if(!t)return;const n=t.querySelectorAll("a:not(.skipped):not(.processed-image)");function i(e,n){const i=document.createElement("div");i.classList.add("clickable-thumbnail"),i.dataset.sourceLink=e.href;const a=document.createElement("img");a.src=e.href,a.onload=()=>{i.appendChild(a),e.parentNode.insertBefore(i,e.nextSibling)},a.onerror=()=>{console.error("Failed to load image:",e.href),e.classList.add("skipped")},n?e.querySelector(".clickable-thumbnail")||e.addEventListener("click",(t=>{e.querySelector(".clickable-thumbnail")||(i.appendChild(a),e.parentNode.insertBefore(i,e.nextSibling))})):(i.appendChild(a),e.parentNode.insertBefore(i,e.nextSibling)),i.addEventListener("click",(n=>{n.stopPropagation(),A=[],t.querySelectorAll(".clickable-thumbnail").forEach(((e,t)=>{const n=e.querySelector("img");n&&e.dataset.sourceLink&&A.push({link:e.dataset.sourceLink,imgSrc:n.src,index:t})}));const i=A.findIndex((t=>t.link===e.href||t.imgSrc===a.src));N=R(a.src,i>=0?i:0),me(N,"show","1");const o=document.querySelector(".dimming-element");o&&me(o,"show","1")}))}n.length&&n.forEach((e=>{if(!e.href||!e.href.startsWith("http"))return;const{allowed:t,extension:n}=P(e.href);if(!t)return;e.classList.add("media");const{isTrusted:a,domain:o}=he(e.href);e.title=ue(e.href)?ge(e.href):e.href,a?function(e,t,n){e.textContent=`${S} Image (${t.toUpperCase()}) ${L} Hostname (${n})`,e.classList.add("processed-image"),i(e,!1)}(e,n,o):function(e,t,n){e.classList.add("skipped"),e.textContent=`${S} Image (${t.toUpperCase()}) ${L} Hostname (${n}) ${C} Untrusted`,e.addEventListener("click",(t=>{e.classList.contains("processed-image")||(t.preventDefault(),e.classList.remove("skipped"),e.classList.add("processed-image"),i(e,!0))}))}(e,n,o)}))}const H="ğŸ¥",U="ğŸ–¥ï¸",D="ğŸ’€ï¸ï¸",F=["mp4","webm","ogg","mov","avi"];function J(e){const t=document.getElementById("messages-panel");if(!t)return;const n=t.querySelectorAll("a:not(.skipped):not(.processed-video)");function i(e,t,n,i){const{youtubeMatch:a,videoType:o,videoId:r}=i,s=(e=>{const t=e.match(/\.([^?#.]+)(?:[?#]|$)/i)?.[1]?.toLowerCase()||"";return{allowed:F.includes(t),extension:t}})(t);if(!a&&!s.allowed)return;e.classList.add("processed-video");const c=document.createElement("div");c.classList.add("video-wrapper");const l=document.createElement(a?"iframe":"video");l.classList.add("video-container"),e.textContent=`${H} ${o} ${U} Hostname (${n})`,a?(l.src=`https://www.youtube.com/embed/${r}`,l.allowFullscreen=!0):(l.src=t,l.controls=!0),e.title=ue(t)?ge(t):t,e.style.display="inline-flex",e.parentNode.insertBefore(c,e),c.append(e,l)}n.length&&n.forEach((e=>{const t=e.href;if(!t)return;const n=function(e){const t=e.match(/(?:shorts\/|live\/|watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/i);if(t){return{youtubeMatch:!0,videoId:t[1],videoType:e.includes("shorts/")?"Shorts":e.includes("live/")?"Live":e.includes("watch?v=")?"Watch":e.includes("youtu.be/")?"Share":"YouTube"}}const n=e.split(".").pop().toLowerCase();if(F.includes(n))return{youtubeMatch:!1,videoType:`Video (${n.toUpperCase()})`};return!1}(t);if(!n)return;e.classList.add("media");const{isTrusted:a,domain:o}=he(t);if(!a)return e.classList.add("skipped"),e.textContent=`${H} ${n.videoType} ${U} Hostname (${o}) ${D} Untrusted`,void e.addEventListener("click",(a=>{e.classList.contains("processed-video")||(a.preventDefault(),e.classList.remove("skipped"),i(e,t,o,n))}));i(e,t,o,n)}))}const O="http://www.w3.org/2000/svg",W="#82B32A",V="#B34A2A",K=`\n  <svg xmlns="${O}" \n      width="24" \n      height="24" \n      viewBox="0 0 250 250">\n    <path fill="#096AD9" d="M22.32 98.04l-19.04 -87.15c-0.75,-3.46 0.48,-6.84 3.29,-9 2.81,-2.17 6.39,-2.49 9.55,-0.87l225.95 116.02c3.07,1.57 4.87,4.52 4.87,7.96 0,3.44 -1.8,6.39 -4.87,7.96l-225.95 116.02c-3.16,1.62 -6.74,1.3 -9.55,-0.87 -2.81,-2.16 -4.04,-5.54 -3.29,-9l19.04 -87.15c0.79,-3.62 3.53,-6.26 7.18,-6.91l102.6 -18.19c0.91,-0.16 1.56,-0.94 1.56,-1.86 0,-0.92 -0.65,-1.7 -1.56,-1.86l-102.6 -18.19c-3.65,-0.65 -6.39,-3.29 -7.18,-6.91z"/>\n  </svg>\n`,_=`\n  <svg xmlns="${O}" \n       width="15" \n       height="15" \n       viewBox="0 0 250 250" \n       style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd">\n      <path fill="${W}" d="M46.62 0l156.76 0c25.64,0 46.62,20.98 46.62,46.62l0 156.75c0,25.65 -20.98,46.63 -46.62,46.63l-156.76 0c-25.64,0 -46.62,-20.98 -46.62,-46.63l0 -156.75c0,-25.64 20.98,-46.62 46.62,-46.62zm45.71 70.24l32.67 32.67 32.67 -32.67c2.73,-2.73 7.18,-2.73 9.91,0l12.18 12.18c2.73,2.73 2.73,7.18 0,9.91l-32.67 32.67 32.67 32.66c2.73,2.74 2.73,7.19 0,9.92l-12.18 12.18c-2.73,2.73 -7.18,2.73 -9.91,0l-32.67 -32.67 -32.67 32.67c-2.73,2.73 -7.18,2.73 -9.91,0l-12.18 -12.18c-2.73,-2.73 -2.73,-7.18 0,-9.92l32.67 -32.66 -32.67 -32.67c-2.73,-2.73 -2.73,-7.18 0,-9.91l12.18 -12.18c2.73,-2.73 7.18,-2.73 9.91,0z"/>\n  </svg>\n`,Y=`\n  <svg xmlns="${O}" \n       width="15" \n       height="15" \n       viewBox="0 0 250 250" \n       style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd">\n      <path fill="${V}" d="M46.62 0l156.76 0c25.64,0 46.62,20.98 46.62,46.62l0 156.75c0,25.65 -20.98,46.63 -46.62,46.63l-156.76 0c-25.64,0 -46.62,-20.98 -46.62,-46.63l0 -156.75c0,-25.64 20.98,-46.62 46.62,-46.62zm15.5 135.79l57.92 -57.93c2.73,-2.73 7.19,-2.72 9.92,0.01l57.92 57.92c2.73,2.73 2.73,7.18 0,9.91l-12.18 12.18c-2.73,2.73 -7.18,2.73 -9.92,0l-35.82 -35.83c-2.73,-2.73 -7.19,-2.73 -9.92,0l-35.82 35.83c-2.74,2.73 -7.19,2.73 -9.92,0l-12.18 -12.18c-2.73,-2.73 -2.73,-7.18 0,-9.91z"/>\n  </svg>\n`,X=`\n  <svg xmlns="${O}" \n       width="15" \n       height="15" \n       viewBox="0 0 250 250"\n       style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd">\n    <path fill="${W}" d="M46.62 0l156.76 0c25.64,0 46.62,20.98 46.62,46.62l0 156.75c0,25.65 -20.98,46.63 -46.62,46.63l-156.76 0c-25.64,0 -46.62,-20.98 -46.62,-46.63l0 -156.75c0,-25.64 20.98,-46.62 46.62,-46.62zm109.99 181.69l-75.07 0c-7.3,0 -13.23,-5.92 -13.23,-13.22l0 -75.08c0,-2.35 1.92,-4.28 4.28,-4.28l17.9 0c2.35,0 4.27,1.93 4.27,4.28l0 32.81c0,1.77 1.01,3.28 2.64,3.96 1.63,0.67 3.42,0.33 4.66,-0.93l59.68 -59.68c1.67,-1.65 4.38,-1.65 6.05,0l12.66 12.66c1.66,1.67 1.66,4.38 0,6.05l-59.68 59.68c-1.26,1.24 -1.6,3.03 -0.93,4.66 0.68,1.63 2.19,2.64 3.96,2.64l32.81 0c2.35,0 4.28,1.92 4.28,4.28l0 17.9c0,2.36 -1.93,4.28 -4.28,4.28z"/>\n  </svg>\n`,Q=`\n  <svg xmlns="${O}" \n       width="15" \n       height="15" \n       viewBox="0 0 250 250"\n       style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd">\n    <path fill="${V}" d="M46.62 0l156.76 0c25.64,0 46.62,20.98 46.62,46.62l0 156.75c0,25.65 -20.98,46.63 -46.62,46.63l-156.76 0c-25.64,0 -46.62,-20.98 -46.62,-46.63l0 -156.75c0,-25.64 20.98,-46.62 46.62,-46.62zm46.77 68.31l75.07 0c7.3,0 13.23,5.92 13.23,13.22l0 75.08c0,2.35 -1.92,4.28 -4.28,4.28l-17.9 0c-2.35,0 -4.27,-1.93 -4.27,-4.28l0 -32.81c0,-1.77 -1.01,-3.28 -2.64,-3.96 -1.63,-0.67 -3.42,-0.33 -4.66,0.93l-59.68 59.68c-1.67,1.65 -4.38,1.65 -6.05,0l-12.66 -12.66c-1.66,-1.67 -1.66,-4.38 0,-6.05l59.68 -59.68c1.26,-1.24 1.6,-3.03 0.93,-4.66 -0.68,-1.63 -2.19,-2.64 -3.96,-2.64l-32.81 0c-2.35,0 -4.28,-1.92 -4.28,-4.27l0 -17.9c0,-2.36 1.93,-4.28 4.28,-4.28z"/>\n  </svg>\n`;function G(e){return{hueMap:{},hueStep:e.hueStep||30,maxHue:e.maxHue||360,saturation:e.saturation||"80%",lightness:e.lightness||"50%",getColor(e){let t=this.hueMap[e];if(!t){const n=this.maxHue/this.hueStep;t=Math.floor(Math.random()*n)*this.hueStep,this.hueMap[e]=t}return`hsl(${t}, ${this.saturation}, ${this.lightness})`}}}const Z=G({maxHue:210,hueStep:30,saturation:"80%",lightness:"50%"}),ee=G({maxHue:210,hueStep:30,saturation:"80%",lightness:"50%"});let te=null;function ne(){let e;do{e=w[Math.floor(Math.random()*w.length)]}while(e===te);return te=e,e}function ie(){const e=document.querySelector("#app-chat-container .chat-wrapper");if(!e)return;const t=document.querySelector("#app-chat-container"),n=e.offsetWidth<=780,i=t.classList.contains("maximized"),a=document.querySelector("#app-chat-container .user-list-container");a&&(a.style.display=n&&!i?"none":""),document.querySelectorAll("#app-chat-container .message").forEach((e=>{e.style.flexDirection=n&&!i?"column":"row",e.style.marginBottom=n&&!i?"1em":"0"}))}function ae(){const e=document.getElementById("app-chat-container"),t=document.querySelector(".chat-toggle-button");if(!e||!t)return;const n=oe(),i=window.innerWidth,a=window.innerHeight,o=getComputedStyle(document.documentElement),r=parseInt(o.getPropertyValue("--min-chat-width"))||250,s=parseInt(o.getPropertyValue("--min-chat-height"))||200;e.style.width=Math.min(i,Math.max(r,n.width))+"px",e.style.height=Math.min(a,Math.max(s,n.height))+"px",e.style.left=le(n.left,0,i-e.offsetWidth)+"px",n.floating?(e.style.top=le(n.top,0,a-e.offsetHeight)+"px",e.style.bottom="",e.classList.add("floating-chat"),e.style.display=n.isVisible?"flex":"none",e.style.opacity=n.isVisible?"1":"0",t.innerHTML=n.isVisible?_:Y):(e.style.bottom="0",e.style.top="",e.classList.remove("floating-chat"),e.classList.remove("visible-chat","hidden-chat"),e.classList.add(n.isVisible?"visible-chat":"hidden-chat"),t.innerHTML=n.isVisible?_:Y),ie()}function oe(){const e=localStorage.getItem("chatState"),t={height:300,width:Math.min(window.innerWidth,600),left:0,floating:!1,top:window.innerHeight-300,isVisible:!0,fontSizeMultiplier:1};return e?{...t,...JSON.parse(e)}:t}function re(e){const t=document.getElementById("app-chat-container"),n=document.getElementById("message-input");if(!t)return;t.style.fontSize=`${e}em`,n&&(n.style.fontSize="1em");ce({...oe(),fontSizeMultiplier:e})}function se(){re(oe().fontSizeMultiplier)}function ce(e){localStorage.setItem("chatState",JSON.stringify(e))}function le(e,t,n){return Math.min(Math.max(e,t),n)}function de(e){return"string"!=typeof e?e:e.replace(/^\d+#/,"")}function pe(){Object.entries(x.bigImageEvents).forEach((([e,t])=>{document.removeEventListener(e,t)}))}function me(e,t,n){e&&(e.offsetHeight,e.style.transition="opacity 0.3s",e.style.opacity="show"===t?n:"0","hide"===t&&e.addEventListener("transitionend",(()=>{"0"===e.style.opacity&&e.remove()}),{once:!0}))}const he=e=>{try{const{hostname:t}=new URL(e),n=t.toLowerCase().split(".").slice(-2).join(".");return{isTrusted:k.includes(n),domain:n}}catch(t){return console.error("Error in isTrustedDomain:",t.message),{isTrusted:!1,domain:e}}};function ue(e){return/^https?:\/\//.test(e)&&/%[0-9A-Fa-f]{2}/.test(e)}function ge(e){const[t]=e.split("#");return decodeURIComponent(t).replace(/ /g,"_")}function fe(){const e=document.getElementById("messages-panel");if(!e)return;const t=localStorage.getItem("mentionKeywords");if(!t)return;let n;try{if(n=JSON.parse(t),!Array.isArray(n))return}catch(e){return}const i=new WeakSet;e.querySelectorAll(".message-text").forEach((e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>{if(i.has(e))return NodeFilter.FILTER_SKIP;return e.parentElement.closest(".mention, .time, .username")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),a=[];let o;for(;o=t.nextNode();)a.push(o);a.forEach((e=>{i.has(e)||(!function(e,t){const n=/(@?[\wĞ°-ÑĞ-Ğ¯Ñ‘Ğ'-]+)|[\s]+|[^@\s\wĞ°-ÑĞ-Ğ¯Ñ‘Ğ'-]+/gu,i=e.textContent.match(n)||[],a=document.createDocumentFragment();i.forEach((e=>{if(t.some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))){const t=document.createElement("span");t.className="mention",e.split("").forEach((e=>{const n=document.createElement("span");n.style.color=ee.getColor(e),n.textContent=e,t.appendChild(n)})),a.appendChild(t)}else a.appendChild(document.createTextNode(e))})),e.parentNode.replaceChild(a,e)}(e,n),i.add(e))}))}))}let be=!0;const ye=300;function ve(){const e=document.getElementById("messages-panel");if(e)if(be)e.scrollTop=e.scrollHeight,be=!1;else{e.scrollHeight-e.scrollTop-e.clientHeight<=ye&&(e.scrollTop=e.scrollHeight)}}function we(e,t={}){const n=document.querySelector(".chat-drag-area");if(!n)return;const i=n.querySelector(".chat-dynamic-alert");i&&n.removeChild(i);const a={type:"info",duration:3e3,...t},o={info:"#2196F3",warning:"#FF9800",error:"#F44336",success:"#4CAF50"},r=document.createElement("div");r.className="chat-dynamic-alert",r.innerHTML=e,r.style.cssText=`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: ${o[a.type]||o.info};\n    padding: 5px 10px;\n    border-radius: 3px;\n    z-index: 1000;\n    font-family: Roboto, Montserrat;\n    font-size: 10px;\n    font-weight: normal;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n    opacity: 0;\n  `,n.appendChild(r),requestAnimationFrame((()=>{r.style.transition="all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55)",r.style.opacity="1",r.style.transform="translate(-50%, -50%)",setTimeout((()=>{r.style.transition="transform 0.05s ease-in-out",[{x:5,delay:0},{x:-7,delay:50},{x:9,delay:100},{x:-6,delay:150},{x:4,delay:200},{x:-3,delay:250},{x:0,delay:300}].forEach((e=>{setTimeout((()=>{r.style.transform=`translate(calc(-50% + ${e.x}px), -50%)`}),e.delay)}))}),300),setTimeout((()=>{r.style.transition="opacity 0.3s ease-in-out",r.style.opacity="0",setTimeout((()=>{n.removeChild(r)}),300)}),a.duration)}))}function xe(){const e=document.getElementById("app-chat-container"),t=document.getElementById("message-input");return!(!t||!e||"none"===e.style.display)&&(t.focus(),!0)}async function ke(e){const t=`https://klavogonki.ru/api/profile/search-users?query=${encodeURIComponent(e)}`;try{const n=await async function(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}`);return t.json()}(t);if(!n.all?.length)throw new Error(`User ${e} not found.`);const i=n.all.find((t=>t.login===e));if(!i)throw new Error(`Exact match for user ${e} not found.`);return i.id}catch(t){return console.error("Error getting user ID:",t),we(`Could not find user "${e}"`,{type:"error",duration:5e3}),null}}const Ee={isPrivateMode:!1,targetUsername:null,targetId:null,fullJid:null,async setPrivateTarget(e){if(!e)return this.exitPrivateMode(),!1;try{const t=await ke(e);return!!t&&(this.isPrivateMode=!0,this.targetUsername=e,this.targetId=t,this.fullJid=`${t}#${e}@jabber.klavogonki.ru/web`,!0)}catch(e){return console.error("Error setting private target:",e),!1}},exitPrivateMode(){this.isPrivateMode=!1,this.targetUsername=null,this.targetId=null,this.fullJid=null}};async function je(e){if(!e)return;const t=e.value,n=/^\/pm\s+([\wĞ°-ÑĞ-Ğ¯Ñ‘Ğ]+)\s/,i=t.match(n);if(i){const a=i[1];await Ee.setPrivateTarget(a)?(!function(e){const t=document.getElementById("message-input");Ee.isPrivateMode&&Ee.targetUsername!==e&&Se();t.classList.contains("private-mode")&&Ee.targetUsername===e?Ee.targetUsername===e&&(t.placeholder=`ï¸PM to â¡ ${e}`,we(`Private chat with ${e} activated`,{type:"warning",duration:3e3})):(t.classList.add("private-mode"),t.placeholder=`PM to â¡ ${e}`,we(`Private chat with ${e} activated`,{type:"warning",duration:3e3}),Ee.isPrivateMode=!0,Ee.targetUsername=e)}(a),e.value=t.replace(n,"")):(we(`Could not find user "${a}"`,{type:"error",duration:3e3}),Se())}else/^\/exit\s*$/.test(t)&&(Se(),e.value="")}function Se(){const e=document.getElementById("message-input");e.classList.contains("private-mode")&&(e.classList.remove("private-mode"),Ee.exitPrivateMode(),we("Exited private chat mode",{type:"success",duration:3e3}))}class Le{constructor(e="user-list"){this.container=document.getElementById(e),this.activeUsers=new Map,this.isFirstLoad=!0,this.roleIcons={visitor:"ğŸ¥",participant:"ğŸ—¿",moderator:"âš”ï¸ï¸"},this.rolePriority={moderator:1,participant:2,visitor:3},this.setupEventListeners()}setupEventListeners(){this.container.addEventListener("click",(e=>{if(e.target.classList.contains("username-clickable")){const t=e.target.getAttribute("data-user-id");if(t){const e=t.split("/")[1].split("#")[0];window.location.href=`https://klavogonki.ru/u/#/${e}/`}}if(e.target.closest(".game-indicator")){const t=e.target.closest(".game-indicator").getAttribute("data-game-id");t&&(e.stopPropagation(),window.location.href=`https://klavogonki.ru/g/?gmid=${t}`)}}))}updatePresence(e){const t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("presence");if(e.includes('<presence id="pres_1"'))return console.log("ğŸ”„ Initial room join detected, requesting full roster"),void this.requestFullRoster();let n=!1;const i=[],a=[];for(let e=0;e<t.length;e++){const o=t[e],r=o.getAttribute("from");if("unavailable"===o.getAttribute("type")){this.activeUsers.has(r)&&(console.log(`ğŸšª User left: ${this.activeUsers.get(r).login||r}`),this.activeUsers.delete(r),n=!0);continue}let s=null;const c=o.getElementsByTagName("x");for(let e=0;e<c.length;e++)if("klavogonki:userdata"===c[e].namespaceURI){s=c[e];break}if(!s){console.log(`âš ï¸ No klavogonki:userdata found for presence from: ${r}`);continue}const l=s.getElementsByTagName("user")[0];if(!l){console.log(`âš ï¸ No user node found in klavogonki:userdata for presence from: ${r}`);continue}const d=de(l.getElementsByTagName("login")[0]?.textContent||"Anonymous"),p=l.getElementsByTagName("avatar")[0]?.textContent,m=l.getElementsByTagName("background")[0]?.textContent||"#777",h=s.getElementsByTagName("game_id")[0]?.textContent||null,u=l.getElementsByTagName("moderator")[0],g=u&&"1"===u.textContent,f=o.getElementsByTagName("item")[0];let b=f?.getAttribute("role")||"participant";g&&(b="moderator");const y={jid:r,login:d,avatar:p,color:m,role:b,usernameColor:Z.getColor(d),gameId:h},v=this.activeUsers.get(r);v?JSON.stringify(v)!==JSON.stringify(y)&&(console.log(`ğŸ‘¤ User updated: ${d}`),this.activeUsers.set(r,y),n=!0,a.push(r)):(console.log(`ğŸ‘¤ User joined: ${d}`),this.activeUsers.set(r,y),n=!0,i.push(r))}n&&(console.log(`ğŸ“‹ Current active users: ${this.activeUsers.size}`),this.updateUI(i,a))}updateUI(e=[],t=[]){console.log(`ğŸ–¥ï¸ Updating UI with ${this.activeUsers.size} users`);const n=new Map;this.container.querySelectorAll(".user-item").forEach((e=>{n.set(e.getAttribute("data-jid"),e)}));const i=Array.from(this.activeUsers.values()).sort(((e,t)=>{const n=this.rolePriority[e.role]-this.rolePriority[t.role];return 0!==n?n:e.login.localeCompare(t.login)})),a=document.createDocumentFragment();i.forEach((e=>{let t=n.get(e.jid);if(t){n.delete(e.jid);const i=t.querySelector(".role"),a=this.roleIcons[e.role]||"ğŸ‘¤";i&&(i.textContent!==a&&(i.textContent=a),i.classList.contains(e.role)||(i.className=`role ${e.role}`))}else{t=document.createElement("div"),t.classList.add("user-item"),t.setAttribute("data-jid",e.jid);const n=de(e.login),i=this.roleIcons[e.role]||"ğŸ‘¤";let a="";if(e.avatar)try{a=`<img class="user-avatar image-avatar" src="${`${b}${e.avatar.replace(".png","_big.png")}`}" alt="${n}'s avatar" \n              onerror="this.onerror=null; this.classList.add('fallback-avatar'); this.innerHTML='${ne()}'">`}catch(e){console.error(`Error loading avatar for ${n}:`,e),a=`<span class="user-avatar svg-avatar">${ne()}</span>`}else a=`<span class="user-avatar svg-avatar">${ne()}</span>`;t.innerHTML=`\n          ${a}\n          <div class="user-info">\n            <div class="username" style="color: ${e.usernameColor}">\n              <span class="username-clickable" data-user-id="${e.jid}">${n}</span>\n              <span class="role ${e.role}">${i}</span>\n            </div>\n          </div>\n        `}let i=t.querySelector(".game-indicator");if(e.gameId){if(!i||i.getAttribute("data-game-id")!==e.gameId){const n=`<span class="game-indicator" title="${e.gameId}" data-game-id="${e.gameId}">\n                                      <span class="traffic-icon">ğŸš¦</span>\n                                    </span>`;if(i)i.outerHTML=n;else{t.querySelector(".username").insertAdjacentHTML("beforeend",n)}}}else i&&i.remove();a.appendChild(t)})),this.container.innerHTML="",this.container.appendChild(a),n.forEach(((e,t)=>{e.remove()})),this.isFirstLoad||e.forEach((e=>{const t=this.container.querySelector(`.user-item[data-jid="${e}"]`);var n;t&&((n=t).classList.add("shake-effect"),setTimeout((()=>{n.classList.remove("shake-effect")}),500))})),this.isFirstLoad&&(this.isFirstLoad=!1)}async requestFullRoster(){console.log("ğŸ“‘ Would request full roster here (using existing data for now)"),this.updateUI()}}class Ce{constructor(e="messages-panel",t=""){this.panel=document.getElementById(e),this.messages=[],this.messageIdCounter=0,this.currentUsername=t,this.sentMessageTexts=new Set,this.processedMessageIds=new Set,this.chatHistory=new Map}processMessages(e){if(!e||"string"!=typeof e)return;const t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("message");let n=!1;Array.from(t).forEach((e=>{const t=e.getAttribute("id")||"msg_"+this.messageIdCounter++;if(this.processedMessageIds.has(t))return;const i=e.getElementsByTagName("body")[0];if(i&&i.textContent){const a=i.textContent;if("This room is not anonymous"===a.trim())return;const o=e.getAttribute("from"),r=e.getAttribute("to"),s="chat"===e.getAttribute("type"),c=de(o&&o.split("#")[1]?.split("@")[0]||"unknown");let l=null;s&&r&&(l=r.split("#")[1]?.split("@")[0]||r,l=de(l));let d=(new Date).toISOString();const p=e.getElementsByTagName("delay");p.length>0&&p[0].getAttribute("stamp")&&(d=p[0].getAttribute("stamp"));if(!(!s&&c===this.currentUsername&&this.sentMessageTexts.has(a))){const e={id:t,from:c,text:a,timestamp:d,isPrivate:s,recipient:l};this.messages.push(e),this.chatHistory.set(t,e),this.processedMessageIds.add(t),n=!0}}})),n&&this.updatePanel()}addSentMessage(e,t={}){this.sentMessageTexts.add(e);const n=`msg_${Date.now()}`,i={id:n,from:this.currentUsername,text:e,timestamp:(new Date).toISOString(),isPrivate:t.isPrivate||!1,recipient:t.recipient||null};if(this.messages.push(i),this.chatHistory.set(n,i),this.processedMessageIds.add(n),this.updatePanel(),this.sentMessageTexts.size>20){const e=Array.from(this.sentMessageTexts);for(let t=0;t<e.length-20;t++)this.sentMessageTexts.delete(e[t])}}updatePanel(){if(!this.panel)return;this.messages.sort(((e,t)=>new Date(e.timestamp)-new Date(t.timestamp)));const e=new Set(Array.from(this.panel.querySelectorAll(".message")).map((e=>e.getAttribute("data-message-id"))));this.messages.forEach((t=>{if(!e.has(t.id)){const e=new Date(t.timestamp).toLocaleTimeString("en-GB",{hour12:!1}),n=Z.getColor(t.from),i=document.createElement("div");i.className="message",t.isPrivate&&(i.classList.add("private-message"),i.classList.add(t.from===this.currentUsername?"sent":"received"),t.recipient&&i.setAttribute("data-recipient",t.recipient)),t.text.startsWith("/me ")&&(i.classList.add("system"),t.text=`${t.from} ${t.text.substring(t.text.indexOf(" ")+1)}`),i.setAttribute("data-message-id",t.id);const a=document.createElement("div");a.className="message-info";let o=t.from;t.isPrivate&&(o=t.from===this.currentUsername&&t.recipient?`â†’ ${t.recipient}`:`${t.from} â†’`),a.innerHTML=`\n          <span class="time">${e}</span>\n          <span class="username" style="color: ${n}">${o}</span>\n        `;const r=document.createElement("div");r.className="message-text",r.innerHTML=t.text.replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$1" target="_blank">$1</a>').replace(/:(\w+):/g,((e,t)=>`<img src="https://klavogonki.ru/img/smilies/${t}.gif" alt="${t}" />`)),i.appendChild(a),i.appendChild(r),this.panel.appendChild(i)}})),this.addUsernameClickListeners(),fe(this.currentUsername),requestAnimationFrame((()=>{ve()}))}addUsernameClickListeners(){const e=this.panel.querySelectorAll(".username"),t=document.getElementById("message-input");e.forEach((e=>{e.addEventListener("click",(n=>{let i=e.textContent.trim();if(i.includes("â†’")&&(i=i.startsWith("â†’")?i.replace("â†’","").trim():i.split("â†’")[0].trim()),n.ctrlKey)t.value=`/pm ${i} `,je(t);else{const e=`${i}, `;t.value.includes(e)||(t.value+=e)}t.focus()}))}))}getChatHistory(){return Array.from(this.chatHistory.values())}}function ze(){const e=document.getElementById("app-chat-container"),t=document.querySelector(".chat-toggle-button");if(!e)return;if(e.classList.contains("maximized"))return void we("Chat is currently maximized",{type:"warning",duration:1e3});const n=JSON.parse(localStorage.getItem("chatState"))||{};if(n.floating||!1){const i="0"===e.style.opacity;e.style.opacity=i?"1":"0",setTimeout((()=>{e.style.display=i?"flex":"none",t.innerHTML=i?_:Y,ce({...n,isVisible:i}),i&&xe()}),300)}else{const i=!e.classList.contains("visible-chat");e.classList.remove("visible-chat","hidden-chat"),e.classList.add(i?"visible-chat":"hidden-chat"),t.innerHTML=i?_:Y,ce({...n,isVisible:i}),i&&xe()}}function Ie(){const e=document.createElement("div");e.id="app-chat-container",["top","left","right"].forEach((t=>{const n=document.createElement("div");n.className=`resize-handle ${t}`,e.appendChild(n)}));const t=document.createElement("div");t.className="chat-wrapper";const n=document.createElement("div");n.className="chat-content";const i=document.createElement("div");i.id="messages-panel",i.className="messages-panel";const a=document.createElement("div");a.className="input-container";const o=document.createElement("button");o.className="emoji-trigger filled-button",o.innerHTML=null,o.classList.add("emoji-button"),o.title="Open emoji picker";const r=document.createElement("input");r.type="text",r.id="message-input";const s=document.createElement("button");s.id="send-button",s.className="filled-button send-button",s.innerHTML=K,a.appendChild(o),a.appendChild(r),a.appendChild(s),n.appendChild(i),n.appendChild(a);const c=document.createElement("div");c.className="user-list-container";const l=document.createElement("div");l.id="user-list",c.appendChild(l),t.appendChild(n),t.appendChild(c),e.appendChild(t);const d=document.createElement("button");d.className="filled-button header-button chat-maximize-button",d.innerHTML=Q,d.addEventListener("click",Me),e.appendChild(d);const p=document.createElement("button");p.className="filled-button header-button chat-toggle-button",p.innerHTML=_,p.addEventListener("click",ze),e.appendChild(p);const m=document.createElement("div");m.className="chat-drag-area",m.addEventListener("dblclick",ze),e.appendChild(m),document.body.appendChild(e),ae(),function(){if(!document.getElementById("app-chat-container"))return;const e=oe(),t=document.createElement("div");t.className="font-size-control";const n=document.createElement("input");n.type="range",n.min="0.8",n.max="1.5",n.step="0.1",n.value=e.fontSizeMultiplier,n.className="font-size-slider",n.addEventListener("mousedown",(e=>{e.stopPropagation()})),n.addEventListener("input",(e=>{re(parseFloat(e.target.value))})),t.appendChild(n);const i=document.querySelector(".chat-drag-area");i&&i.appendChild(t)}(),se()}let $e=null;function Me(){const e=document.getElementById("app-chat-container"),t=document.querySelector(".chat-maximize-button");if(e)if(e.classList.contains("maximized")){const n=document.getElementById("messages-panel"),i=n.scrollHeight-n.scrollTop-n.clientHeight<=300;if(e.maximizeResizeHandler&&(window.removeEventListener("resize",e.maximizeResizeHandler),delete e.maximizeResizeHandler),$e){if(e.style.width=`${$e.width}px`,e.style.height=`${$e.height}px`,e.style.left=`${$e.left}px`,e.style.maxWidth="",e.style.minWidth="",e.style.position="fixed",e.style.right="",e.style.margin="",e.style.transform="",e.style.top="auto",$e.floating){const t=window.innerHeight,n=$e.top;n+$e.height<=t?e.style.top=`${n}px`:(e.style.bottom="0",e.style.top="auto")}else e.style.bottom="0",e.style.top="";ce({...oe(),width:$e.width,height:$e.height,left:$e.left,top:$e.top,floating:$e.floating,isVisible:$e.isVisible})}e.classList.remove("maximized"),t.classList.remove("maximized"),t.innerHTML=Q,requestAnimationFrame((()=>{ie(),i&&(n.scrollTop=n.scrollHeight),xe(),se()}))}else{const n=!e.classList.contains("visible-chat")&&!e.classList.contains("hidden-chat");$e=oe();const i=()=>`${Math.floor(.9*window.innerHeight)}px`;e.style.cssText=`\n      width: 100vw !important;\n      height: ${i()} !important;\n      max-width: 95vw !important;\n      min-width: 95vw !important;\n      position: fixed !important;\n      bottom: 0 !important;\n      left: 0 !important;\n      right: 0 !important;\n      top: auto !important;\n      margin: 0 !important;\n      transform: none !important;\n    `,n&&e.classList.remove("visible-chat","hidden-chat"),e.classList.add("maximized"),t.classList.add("maximized"),t.innerHTML=X;const a=()=>{e.style.height=i(),e.style.bottom="0",e.style.top="auto"};window.addEventListener("resize",a),e.maximizeResizeHandler=a,ie(),xe(),se()}}let Te,Ae,Ne,Pe,Re=!1;let qe,Be,He,Ue,De,Fe,Je=!1,Oe=null,We=0;const Ve={smileys:["ğŸ˜€","ğŸ˜ƒ","ğŸ˜„","ğŸ˜","ğŸ˜…","ğŸ˜‚","ğŸ¤£","ğŸ¥²","â˜ºï¸","ğŸ˜Š","ğŸ˜‡","ğŸ™‚","ğŸ™ƒ","ğŸ˜‰","ğŸ˜Œ","ğŸ˜","ğŸ¥°","ğŸ˜˜","ğŸ˜—","ğŸ˜š","ğŸ˜‹","ğŸ˜›","ğŸ˜","ğŸ˜œ","ğŸ¤ª","ğŸ˜","ğŸ¤“","ğŸ§","ğŸ¤¨","ğŸ¤©","ğŸ¥³","ğŸ˜","ğŸ˜’","ğŸ˜","ğŸ˜”","ğŸ˜Ÿ","ğŸ˜•","ğŸ™","â˜¹ï¸","ğŸ˜£","ğŸ˜–","ğŸ˜«","ğŸ˜©","ğŸ¥º","ğŸ˜¢","ğŸ˜­","ğŸ˜¤","ğŸ˜ ","ğŸ˜¡","ğŸ¤¬","ğŸ¤¯","ğŸ˜³","ğŸ¥µ","ğŸ¥¶","ğŸ˜±","ğŸ˜¨","ğŸ˜°","ğŸ˜¥","ğŸ˜“","ğŸ¤—","ğŸ¤”","ğŸ¤­","ğŸ¤«","ğŸ¤¥","ğŸ˜¶","ğŸ˜","ğŸ˜‘","ğŸ˜¬","ğŸ™„","ğŸ˜¯","ğŸ˜¦","ğŸ˜§","ğŸ˜®","ğŸ˜²","ğŸ¥±","ğŸ˜´","ğŸ¤¤","ğŸ˜ª","ğŸ˜µ","ğŸ¤","ğŸ¥´","ğŸ¤¢","ğŸ¤®","ğŸ¤§","ğŸ˜·","ğŸ¤’","ğŸ¤•","ğŸ¤‘","ğŸ¤ ","ğŸ˜ˆ","ğŸ‘¿","ğŸ‘¹","ğŸ‘º","ğŸ¤¡","ğŸ’©","ğŸ‘»","ğŸ’€","â˜ ï¸","ğŸ‘½","ğŸ‘¾","ğŸ¤–","ğŸƒ","ğŸ˜º","ğŸ˜¸","ğŸ˜¹","ğŸ˜»","ğŸ˜¼","ğŸ˜½","ğŸ™€","ğŸ˜¿","ğŸ˜¾"],people:["ğŸ‘‹","ğŸ¤š","ğŸ–ï¸","âœ‹","ğŸ––","ğŸ‘Œ","ğŸ¤Œ","ğŸ¤","âœŒï¸","ğŸ¤","ğŸ¤Ÿ","ğŸ¤˜","ğŸ¤™","ğŸ‘ˆ","ğŸ‘‰","ğŸ‘†","ğŸ–•","ğŸ‘‡","â˜ï¸","ğŸ‘","ğŸ‘","âœŠ","ğŸ‘Š","ğŸ¤›","ğŸ¤œ","ğŸ‘","ğŸ™Œ","ğŸ‘","ğŸ¤²","ğŸ¤","ğŸ™","âœï¸","ğŸ’…","ğŸ¤³","ğŸ’ª","ğŸ¦¾","ğŸ¦¿","ğŸ¦µ","ğŸ¦¶","ğŸ‘‚","ğŸ¦»","ğŸ‘ƒ","ğŸ§ ","ğŸ«€","ğŸ«","ğŸ¦·","ğŸ¦´","ğŸ‘€","ğŸ‘ï¸","ğŸ‘…","ğŸ‘„","ğŸ‘¶","ğŸ§’","ğŸ‘¦","ğŸ‘§","ğŸ§‘","ğŸ‘±","ğŸ‘¨","ğŸ§”","ğŸ‘©","ğŸ§“","ğŸ‘´","ğŸ‘µ","ğŸ™","ğŸ™","ğŸ™…","ğŸ™†","ğŸ’","ğŸ™‹","ğŸ§","ğŸ™‡","ğŸ¤¦","ğŸ¤·","ğŸ‘®","ğŸ•µï¸","ğŸ’‚","ğŸ¥·","ğŸ‘·","ğŸ¤´","ğŸ‘¸","ğŸ‘³","ğŸ‘²","ğŸ§•","ğŸ¤µ","ğŸ‘°","ğŸ¤°","ğŸ¤±","ğŸ‘¼","ğŸ…","ğŸ¤¶","ğŸ¦¸","ğŸ¦¹","ğŸ§™","ğŸ§š","ğŸ§›","ğŸ§œ"],nature:["ğŸµ","ğŸ’","ğŸ¦","ğŸ¦§","ğŸ¶","ğŸ•","ğŸ¦®","ğŸ•â€ğŸ¦º","ğŸ©","ğŸº","ğŸ¦Š","ğŸ¦","ğŸ±","ğŸˆ","ğŸˆâ€â¬›","ğŸ¦","ğŸ¯","ğŸ…","ğŸ†","ğŸ´","ğŸ","ğŸ¦„","ğŸ¦“","ğŸ¦Œ","ğŸ¦¬","ğŸ®","ğŸ‚","ğŸƒ","ğŸ„","ğŸ·","ğŸ–","ğŸ—","ğŸ½","ğŸ","ğŸ‘","ğŸ","ğŸª","ğŸ«","ğŸ¦™","ğŸ¦’","ğŸ˜","ğŸ¦","ğŸ¦›","ğŸ­","ğŸ","ğŸ€","ğŸ¹","ğŸ°","ğŸ‡","ğŸ¦«","ğŸ¦˜","ğŸ¦¡","ğŸ¿ï¸","ğŸ¦”","ğŸ¦¦","ğŸ¦¥","ğŸ¼","ğŸ¦¨","ğŸ¦˜","ğŸ¦¡","ğŸ¦ƒ","ğŸ”","ğŸ“","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ§","ğŸ•Šï¸","ğŸ¦…","ğŸ¦†","ğŸ¦¢","ğŸ¦‰","ğŸ¦¤","ğŸª¶","ğŸ¦©","ğŸ¦š","ğŸ¦œ","ğŸ¸","ğŸŠ","ğŸ¢","ğŸ¦","ğŸ","ğŸ²","ğŸ‰","ğŸ¦•","ğŸ¦–","ğŸ³","ğŸ‹","ğŸ¬","ğŸ¦­","ğŸŸ","ğŸ ","ğŸ¡","ğŸ¦ˆ","ğŸ™","ğŸš","ğŸª¸","ğŸŒ","ğŸ¦‹","ğŸ›","ğŸœ","ğŸ","ğŸª²","ğŸ","ğŸ¦—","ğŸª³","ğŸ•·ï¸","ğŸ•¸ï¸","ğŸ¦‚","ğŸ¦Ÿ","ğŸª°","ğŸª±","ğŸŒ¸","ğŸ’®","ğŸµï¸","ğŸŒ¹","ğŸ¥€","ğŸŒº","ğŸŒ»","ğŸŒ¼","ğŸŒ·","ğŸŒ±","ğŸª´","ğŸŒ²","ğŸŒ³","ğŸŒ´","ğŸŒµ","ğŸŒ¾","ğŸŒ¿","â˜˜ï¸","ğŸ€","ğŸ","ğŸ‚","ğŸƒ"],food:["ğŸ","ğŸ","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ‰","ğŸ‡","ğŸ“","ğŸ«","ğŸˆ","ğŸ’","ğŸ‘","ğŸ¥­","ğŸ","ğŸ¥¥","ğŸ¥","ğŸ…","ğŸ†","ğŸ¥‘","ğŸ¥¦","ğŸ¥¬","ğŸ¥’","ğŸŒ¶ï¸","ğŸ«‘","ğŸ¥•","ğŸ§„","ğŸ§…","ğŸ¥”","ğŸ ","ğŸ¥","ğŸ¥¯","ğŸ","ğŸ¥–","ğŸ¥¨","ğŸ§€","ğŸ¥š","ğŸ³","ğŸ¥“","ğŸ¥©","ğŸ—","ğŸ–","ğŸ¦´","ğŸŒ­","ğŸ”","ğŸŸ","ğŸ•","ğŸ«“","ğŸ¥ª","ğŸ¥™","ğŸ§†","ğŸŒ®","ğŸŒ¯","ğŸ«”","ğŸ¥—","ğŸ¥˜","ğŸ«•","ğŸ¥«","ğŸ","ğŸœ","ğŸ²","ğŸ›","ğŸ£","ğŸ±","ğŸ¥Ÿ","ğŸ¦ª","ğŸ¤","ğŸ™","ğŸš","ğŸ˜","ğŸ¥","ğŸ¥ ","ğŸ¥®","ğŸ¢","ğŸ¡","ğŸ§","ğŸ¨","ğŸ¦","ğŸ¥§","ğŸ§","ğŸ°","ğŸ‚","ğŸ®","ğŸ­","ğŸ¬","ğŸ«","ğŸ¿","ğŸ©","ğŸª","ğŸ«–","â˜•","ğŸµ","ğŸ§ƒ","ğŸ¥¤","ğŸ§‹","ğŸ¶","ğŸº","ğŸ»","ğŸ¥‚","ğŸ·","ğŸ¥ƒ","ğŸ¸","ğŸ¹","ğŸ§‰","ğŸ¾"],activities:["âš½","ğŸ€","ğŸˆ","âš¾","ğŸ¥","ğŸ¾","ğŸ","ğŸ‰","ğŸ¥","ğŸ±","ğŸª€","ğŸ“","ğŸ¸","ğŸ’","ğŸ‘","ğŸ¥","ğŸ","â›³","ğŸª","ğŸ£","ğŸ¤¿","ğŸ½","ğŸ›¹","ğŸ›¼","ğŸ›·","â›¸ï¸","ğŸ¥Œ","â›·ï¸","ğŸ‚","ğŸª‚","ğŸ‹ï¸","ğŸ¤¼","ğŸ¤¸","â›¹ï¸","ğŸ¤¾","ğŸŒï¸","ğŸ‡","ğŸ§˜","ğŸ„","ğŸŠ","ğŸ¤½","ğŸš£","ğŸ§—","ğŸš´","ğŸšµ","ğŸª","ğŸ­","ğŸ¨","ğŸ¬","ğŸ¤","ğŸ§","ğŸ¼","ğŸ¹","ğŸ¥","ğŸ·","ğŸº","ğŸ¸","ğŸ»","ğŸ²","ğŸ¯","ğŸ³","ğŸ®","ğŸ°","ğŸ§©","ğŸª","ğŸ«","ğŸŸï¸"],travel:["ğŸš—","ğŸš•","ğŸš™","ğŸšŒ","ğŸš","ğŸï¸","ğŸš“","ğŸš‘","ğŸš’","ğŸš","ğŸ›»","ğŸšš","ğŸš›","ğŸšœ","ğŸ›µ","ğŸï¸","ğŸ›º","ğŸš²","ğŸ›´","âœˆï¸","ğŸ›©ï¸","ğŸ›«","ğŸ›¬","ğŸš","ğŸš€","ğŸ›¸","ğŸ›¶","â›µ","ğŸš¤","ğŸ›¥ï¸","ğŸ›³ï¸","â›´ï¸","ğŸš¢","ğŸ°","ğŸ¯","ğŸŸï¸","ğŸ–ï¸","ğŸï¸","ğŸœï¸","ğŸŒ‹","â›°ï¸","ğŸ”ï¸","ğŸ—»","ğŸ•ï¸","ğŸ­","ğŸ¢","ğŸ¬","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ¨","ğŸª","ğŸ«","ğŸ©","ğŸ’’","â›ª","ğŸ•Œ","ğŸ•","ğŸ›•","â›©ï¸","ğŸ›ï¸"],objects:["âŒš","ğŸ“±","ğŸ’»","âŒ¨ï¸","ğŸ–¥ï¸","ğŸ–¨ï¸","ğŸ–±ï¸","ğŸ–²ï¸","ğŸ•¹ï¸","ğŸ—œï¸","ğŸ’½","ğŸ’¾","ğŸ’¿","ğŸ“€","ğŸ“¼","ğŸ“·","ğŸ“¸","ğŸ“¹","ğŸ¥","ğŸ“","â˜ï¸","ğŸ“Ÿ","ğŸ“ ","ğŸ“º","ğŸ“»","ğŸ™ï¸","ğŸšï¸","ğŸ›ï¸","ğŸ“¡","ğŸ”‹","ğŸ”Œ","ğŸ’¡","ğŸ”¦","ğŸ•¯ï¸","ğŸ§¯","ğŸ›¢ï¸","ğŸ’¸","ğŸ’µ","ğŸ’´","ğŸ’¶","ğŸ’·","ğŸª™","ğŸ’°","ğŸ’³","ğŸ’","âš–ï¸","ğŸªœ","ğŸ§°","ğŸ”§","ğŸ”¨","âš’ï¸","ğŸ› ï¸","â›ï¸","âœï¸","ğŸ–Šï¸","ğŸ–‹ï¸","âœ’ï¸","ğŸ–Œï¸","ğŸ–ï¸","ğŸ“","ğŸ“š","ğŸ“–","ğŸ”–","ğŸ“‘","ğŸ—’ï¸","ğŸ“„","ğŸ“°","ğŸ—ï¸","ğŸ“","ğŸ“‚","ğŸ—‚ï¸"],symbols:["â¤ï¸","ğŸ§¡","ğŸ’›","ğŸ’š","ğŸ’™","ğŸ’œ","ğŸ¤","ğŸ–¤","ğŸ¤","ğŸ’”","â£ï¸","ğŸ’•","ğŸ’","ğŸ’“","ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’Ÿ","â˜®ï¸","âœï¸","â˜ªï¸","ğŸ•‰ï¸","â˜¸ï¸","âœ¡ï¸","ğŸ”¯","ğŸ•","â˜¯ï¸","â˜¦ï¸","ğŸ›","â›","âš ï¸","ğŸš¸","â›”","ğŸš«","ğŸš³","ğŸš­","ğŸš¯","ğŸš±","ğŸš·","ğŸ“µ","ğŸ”","â˜¢ï¸","â˜£ï¸","â•","â–","â—","âœ–ï¸","â™¾ï¸","ğŸ’²","ğŸ’±","â¬†ï¸","â†—ï¸","â¡ï¸","â†˜ï¸","â¬‡ï¸","â†™ï¸","â¬…ï¸","â†–ï¸","â†•ï¸","â†”ï¸","â†©ï¸","â†ªï¸","â¤´ï¸","â¤µï¸","ğŸ”ƒ","ğŸ”„","ğŸ”†","ğŸ“¶","ğŸ¦","ğŸ”…","â™»ï¸","âœ…","âŒ","â","â°","â¿","ã€½ï¸","âœ³ï¸","âœ´ï¸","â‡ï¸","Â©ï¸","Â®ï¸","â„¢ï¸"],flags:["ğŸ","ğŸš©","ğŸŒ","ğŸ´","ğŸ³ï¸","ğŸ³ï¸â€ğŸŒˆ","ğŸ³ï¸â€âš§ï¸","ğŸ´â€â˜ ï¸","ğŸ‡ºğŸ‡¸","ğŸ‡¬ğŸ‡§","ğŸ‡¯ğŸ‡µ","ğŸ‡°ğŸ‡·","ğŸ‡©ğŸ‡ª","ğŸ‡¨ğŸ‡³","ğŸ‡§ğŸ‡·","ğŸ‡®ğŸ‡³","ğŸ‡«ğŸ‡·","ğŸ‡ªğŸ‡¸","ğŸ‡®ğŸ‡¹","ğŸ‡·ğŸ‡º","ğŸ‡¨ğŸ‡¦","ğŸ‡¦ğŸ‡º","ğŸ‡³ğŸ‡¿"]},Ke={"ğŸ˜€":["grinning","face","smile","happy","joy"],"ğŸ˜ƒ":["smiley","face","happy","joy","laugh"],"ğŸ˜„":["laughing","face","happy","joy","grin"],"ğŸ˜":["beaming","face","grin","smile","happy"],"ğŸ˜…":["sweat","nervous","face","laugh","relief"],"ğŸ˜‚":["tears","joy","face","laugh","happy"],"ğŸ¤£":["rolling","floor","laugh","funny","amused"],"ğŸ¥²":["smiling","tear","bittersweet","nostalgic","happy"],"â˜ºï¸":["smile","blush","content","peaceful"],"ğŸ˜Š":["smiling","happy","blushing","content"],"ğŸ˜‡":["angel","halo","innocent","saint","pure"],"ğŸ™‚":["slight","smile","face","mild"],"ğŸ™ƒ":["upside-down","silly","quirky","funny"],"ğŸ˜‰":["wink","flirt","playful","smile"],"ğŸ˜Œ":["relieved","calm","content","satisfied"],"ğŸ˜":["heart","love","smiling","eyes","adore"],"ğŸ¥°":["love","hearts","affection","adoration","cuddle"],"ğŸ˜˜":["kiss","love","affection","flirt"],"ğŸ˜—":["kiss","face","smile","affection"],"ğŸ˜š":["kiss","closed eyes","affection","love"],"ğŸ˜‹":["yum","delicious","tasty","savor","lick"],"ğŸ˜›":["tongue","playful","cheeky","silly"],"ğŸ˜":["tongue","silly","wacky","fun"],"ğŸ˜œ":["tongue","wink","playful","fun"],"ğŸ¤ª":["crazy","wacky","zany","quirky"],"ğŸ˜":["cool","sunglasses","confident","chill"],"ğŸ¤“":["nerd","geek","glasses","studious"],"ğŸ§":["monocle","investigative","curious","thoughtful"],"ğŸ¤¨":["skeptical","doubtful","uncertain","raised eyebrow"],"ğŸ¤©":["starstruck","amazed","excited","admire"],"ğŸ¥³":["party","celebrate","birthday","festive"],"ğŸ˜":["smirk","sly","mischievous","confident"],"ğŸ˜’":["unamused","displeased","bored","sigh"],"ğŸ˜":["disappointed","sad","down","somber"],"ğŸ˜”":["pensive","sad","reflective","mournful"],"ğŸ˜Ÿ":["worried","concerned","anxious","upset"],"ğŸ˜•":["confused","perplexed","uncertain","baffled"],"ğŸ™":["frowning","sad","disappointed","downcast"],"â˜¹ï¸":["frowning","sad","unhappy","mournful"],"ğŸ˜£":["strained","persevering","tired","discomfort"],"ğŸ˜–":["confounded","annoyed","distressed","exasperated"],"ğŸ˜«":["tired","exhausted","weary","worn out"],"ğŸ˜©":["weary","tired","exhausted","overwhelmed"],"ğŸ¥º":["pleading","begging","cute","vulnerable"],"ğŸ˜¢":["cry","sad","tear","sorrow"],"ğŸ˜­":["crying","tearful","sad","heartbroken"],"ğŸ˜¤":["triumphant","exasperated","proud","angry"],"ğŸ˜ ":["angry","mad","annoyed","irate"],"ğŸ˜¡":["pouting","mad","furious","irate"],"ğŸ¤¬":["cursing","swearing","angry","foul language"],"ğŸ¤¯":["mind blown","shocked","amazed","stunned"],"ğŸ˜³":["flushed","embarrassed","shocked","awkward"],"ğŸ¥µ":["hot","overheated","sweaty","exhausted"],"ğŸ¥¶":["cold","freezing","chilly","frozen"],"ğŸ˜±":["screaming","horror","shock","fear"],"ğŸ˜¨":["fearful","scared","anxious","nervous"],"ğŸ˜°":["anxious","nervous","sweating","scared"],"ğŸ˜¥":["disappointed","sad","pensive","teary"],"ğŸ˜“":["cold sweat","nervous","anxious","tired"],"ğŸ¤—":["hug","embrace","caring","love"],"ğŸ¤”":["thinking","pondering","curious","confused"],"ğŸ¤­":["guilty","shy","embarrassed","oops"],"ğŸ¤«":["quiet","secret","hush","shh"],"ğŸ¤¥":["lying","fib","deceitful","dishonest"],"ğŸ˜¶":["speechless","mute","quiet","blank"],"ğŸ˜":["neutral","expressionless","indifferent","flat"],"ğŸ˜‘":["deadpan","expressionless","blank","unemotional"],"ğŸ˜¬":["grimace","awkward","nervous","tense"],"ğŸ™„":["eye roll","sarcastic","disdain","bored"],"ğŸ˜¯":["hushed","surprised","shocked","amazed"],"ğŸ˜¦":["frowning","dismayed","shocked","surprised"],"ğŸ˜§":["astonished","stunned","surprised","speechless"],"ğŸ˜®":["open mouth","surprised","shocked","amazed"],"ğŸ˜²":["astonished","stunned","shocked","in awe"],"ğŸ¥±":["yawning","sleepy","tired","bored"],"ğŸ˜´":["sleeping","tired","napping","dozing"],"ğŸ¤¤":["drooling","desire","craving","hungry"],"ğŸ˜ª":["sleepy","drowsy","tired","nodding"],"ğŸ˜µ":["dizzy","knocked out","stunned","confused"],"ğŸ¤":["zipper-mouth","secretive","quiet","mute"],"ğŸ¥´":["woozy","tipsy","dizzy","unsteady"],"ğŸ¤¢":["nauseated","sick","disgusted","vomit"],"ğŸ¤®":["vomiting","nauseous","sick","disgust"],"ğŸ¤§":["sneezing","ill","sick","allergy"],"ğŸ˜·":["mask","sick","ill","health"],"ğŸ¤’":["fever","sick","ill","unwell"],"ğŸ¤•":["injured","hurt","bandaged","pain"],"ğŸ¤‘":["money","rich","greedy","cash"],"ğŸ¤ ":["cowboy","hat","western","fun"],"ğŸ˜ˆ":["devil","mischievous","naughty","sinister"],"ğŸ‘¿":["angry","devil","evil","fiendish"],"ğŸ‘¹":["ogre","demon","monster","scary"],"ğŸ‘º":["goblin","troll","spooky","creepy"],"ğŸ¤¡":["clown","silly","funny","circus"],"ğŸ’©":["poop","crap","feces","funny"],"ğŸ‘»":["ghost","spirit","haunted","scary"],"ğŸ’€":["skull","death","creepy","spooky"],"â˜ ï¸":["skull","danger","death","poison"],"ğŸ‘½":["alien","extraterrestrial","space","ufo"],"ğŸ‘¾":["alien","monster","video game","retro"],"ğŸ¤–":["robot","machine","tech","android"],"ğŸƒ":["pumpkin","halloween","spooky","festive"],"ğŸ˜º":["smiling","cat","happy","playful"],"ğŸ˜¸":["grinning","cat","joyful","cheerful"],"ğŸ˜¹":["tearful","joy","cat","laughing"],"ğŸ˜»":["heart","cat","love","adorable"],"ğŸ˜¼":["smirking","cat","mischievous","sly"],"ğŸ˜½":["kissing","cat","affection","cute"],"ğŸ™€":["surprised","cat","scared","shocked"],"ğŸ˜¿":["crying","cat","sad","tearful"],"ğŸ˜¾":["angry","cat","annoyed","displeased"],"ğŸ‘‹":["wave","hello","goodbye","greeting"],"ğŸ¤š":["raised hand","stop","palm"],"ğŸ–ï¸":["hand","high five","greeting"],"âœ‹":["stop","palm","high five"],"ğŸ––":["vulcan salute","live long","sci-fi"],"ğŸ‘Œ":["okay","perfect","good"],"ğŸ¤Œ":["pinched","precise","delicious"],"ğŸ¤":["small","tiny","minuscule"],"âœŒï¸":["peace","victory","v sign"],"ğŸ¤":["fingers crossed","hope","luck"],"ğŸ¤Ÿ":["I love you","rock on","sign language"],"ğŸ¤˜":["rock","metal","horns"],"ğŸ¤™":["call me","hang loose","shaka"],"ğŸ‘ˆ":["point left","direction","arrow"],"ğŸ‘‰":["point right","direction","arrow"],"ğŸ‘†":["point up","direction","up"],"ğŸ–•":["middle finger","offensive","rude"],"ğŸ‘‡":["point down","direction","down"],"â˜ï¸":["point up","number one","important"],"ğŸ‘":["thumbs up","good","approve"],"ğŸ‘":["thumbs down","bad","disapprove"],"âœŠ":["fist","power","solidarity"],"ğŸ‘Š":["punch","fist bump","hit"],"ğŸ¤›":["left fist","punch","strike"],"ğŸ¤œ":["right fist","punch","strike"],"ğŸ‘":["clap","applause","bravo"],"ğŸ™Œ":["celebrate","praise","hooray"],"ğŸ‘":["open hands","embrace","welcome"],"ğŸ¤²":["palms","offering","receive"],"ğŸ¤":["handshake","agreement","cooperation"],"ğŸ™":["pray","thanks","please"],"âœï¸":["writing","pen","signature"],"ğŸ’…":["nail polish","beauty","manicure"],"ğŸ¤³":["selfie","photo","camera"],"ğŸ’ª":["flex","strong","muscle"],"ğŸ¦¾":["mechanical arm","robotic","cyborg"],"ğŸ¦¿":["mechanical leg","prosthetic","robotic"],"ğŸ¦µ":["leg","limb","lower body"],"ğŸ¦¶":["foot","toes","step"],"ğŸ‘‚":["ear","listening","sound"],"ğŸ¦»":["hearing aid","listening","assistive"],"ğŸ‘ƒ":["nose","smell","scent"],"ğŸ§ ":["brain","intelligence","mind"],"ğŸ«€":["heart (organ)","anatomy","biology"],"ğŸ«":["lungs","breath","organ"],"ğŸ¦·":["tooth","dental","smile"],"ğŸ¦´":["bone","skeleton","hard"],"ğŸ‘€":["eyes","look","see"],"ğŸ‘ï¸":["eye","vision","watch"],"ğŸ‘…":["tongue","taste","lick"],"ğŸ‘„":["lips","kiss","mouth"],"ğŸ‘¶":["baby","infant","cute"],"ğŸ§’":["child","kid","youth"],"ğŸ‘¦":["boy","child","kid"],"ğŸ‘§":["girl","child","kid"],"ğŸ§‘":["person","human","individual"],"ğŸ‘±":["blonde","person","light hair"],"ğŸ‘¨":["man","male","guy"],"ğŸ§”":["bearded","man","facial hair"],"ğŸ‘©":["woman","female","lady"],"ğŸ§“":["elderly","senior","aged"],"ğŸ‘´":["old man","elderly","senior"],"ğŸ‘µ":["old woman","elderly","senior"],"ğŸ™":["frowning","sad","displeased"],"ğŸ™":["pouting","angry","displeased"],"ğŸ™…":["no","prohibited","refusal"],"ğŸ™†":["ok","acceptable","okay"],"ğŸ’":["information","help","assistance"],"ğŸ™‹":["raising hand","question","volunteer"],"ğŸ§":["deaf","listening","silent"],"ğŸ™‡":["bowing","apologetic","respect"],"ğŸ¤¦":["facepalm","disbelief","oops"],"ğŸ¤·":["shrug","uncertain","indifferent"],"ğŸ‘®":["police","officer","law"],"ğŸ•µï¸":["detective","spy","investigate"],"ğŸ’‚":["guard","soldier","military"],"ğŸ¥·":["ninja","stealth","assassin"],"ğŸ‘·":["construction","worker","helmet"],"ğŸ¤´":["prince","royalty","king"],"ğŸ‘¸":["princess","royalty","queen"],"ğŸ‘³":["turban","cultural","tradition"],"ğŸ‘²":["man with cap","cultural","traditional"],"ğŸ§•":["woman with headscarf","cultural","modest"],"ğŸ¤µ":["tuxedo","groom","formal"],"ğŸ‘°":["bride","wedding","formal"],"ğŸ¤°":["pregnant","expecting","mother"],"ğŸ¤±":["nursing","mother","baby"],"ğŸ‘¼":["angel","cherub","divine"],"ğŸ…":["santa","christmas","jolly"],"ğŸ¤¶":["mrs claus","christmas","holiday"],"ğŸ¦¸":["superhero","power","hero"],"ğŸ¦¹":["villain","bad","criminal"],"ğŸ§™":["wizard","magic","sorcery"],"ğŸ§š":["fairy","magic","mystical"],"ğŸ§›":["vampire","dracula","undead"],"ğŸ§œ":["mermaid","mythical","ocean"],"ğŸµ":["monkey","ape","funny","mammal"],"ğŸ’":["monkey","primate","curious"],"ğŸ¦":["gorilla","ape","strong","wild"],"ğŸ¦§":["orangutan","ape","wild","mammal"],"ğŸ¶":["dog","puppy","pet","mammal"],"ğŸ•":["dog","canine","pet"],"ğŸ¦®":["guide dog","service","assistance"],"ğŸ•â€ğŸ¦º":["service dog","working","assistance"],"ğŸ©":["poodle","dog","pet","fancy"],"ğŸº":["wolf","wild","howl"],"ğŸ¦Š":["fox","cunning","wild"],"ğŸ¦":["raccoon","mischievous","wild"],"ğŸ±":["cat","pet","feline"],"ğŸˆ":["cat","feline","pet"],"ğŸˆâ€â¬›":["black cat","mysterious","feline"],"ğŸ¦":["lion","king","wild","courage"],"ğŸ¯":["tiger","wild","stripes","fierce"],"ğŸ…":["tiger","stripes","wild"],"ğŸ†":["leopard","spots","wild","fast"],"ğŸ´":["horse","ride","equine"],"ğŸ":["horse","racing","equine"],"ğŸ¦„":["unicorn","magical","fantasy"],"ğŸ¦“":["zebra","stripes","wild"],"ğŸ¦Œ":["deer","antlers","forest"],"ğŸ¦¬":["bison","buffalo","wild"],"ğŸ®":["cow","farm","bovine"],"ğŸ‚":["ox","bull","bovine"],"ğŸƒ":["water buffalo","bovine","farm"],"ğŸ„":["cow","bovine","farm"],"ğŸ·":["pig","farm","oink"],"ğŸ–":["pig","swine","farm"],"ğŸ—":["boar","wild","pig"],"ğŸ½":["pig nose","snout"],"ğŸ":["ram","sheep","male"],"ğŸ‘":["sheep","wool","farm"],"ğŸ":["goat","farm","bleat"],"ğŸª":["camel","desert","hump"],"ğŸ«":["camel","two-hump","desert"],"ğŸ¦™":["llama","alpaca","cute"],"ğŸ¦’":["giraffe","tall","spots"],"ğŸ˜":["elephant","trunk","large"],"ğŸ¦":["rhinoceros","horn","tough"],"ğŸ¦›":["hippopotamus","water","large"],"ğŸ¦ƒ":["turkey","bird","thanksgiving"],"ğŸ”":["chicken","rooster","hen"],"ğŸ“":["rooster","chicken","bird"],"ğŸ£":["hatching chick","baby","bird"],"ğŸ¤":["chick","small","bird"],"ğŸ¥":["baby chicken","cute","bird"],"ğŸ¦":["bird","tweet","wing"],"ğŸ§":["penguin","cold","bird"],"ğŸ•Šï¸":["dove","peace","bird"],"ğŸ¦…":["eagle","wild","bird"],"ğŸ¦†":["duck","water","bird"],"ğŸ¦¢":["swan","graceful","bird"],"ğŸ¦‰":["owl","wise","night","bird"],"ğŸ¦¤":["dodo","extinct","bird"],"ğŸª¶":["feather","light","bird"],"ğŸ¦©":["flamingo","pink","bird"],"ğŸ¦š":["peacock","colorful","bird"],"ğŸ¦œ":["parrot","talkative","colorful"],"ğŸ¸":["frog","amphibian","green"],"ğŸŠ":["crocodile","reptile","danger"],"ğŸ¢":["turtle","slow","reptile"],"ğŸ¦":["lizard","reptile","scaly"],"ğŸ":["snake","reptile","slither"],"ğŸ²":["dragon face","mythical","dragon"],"ğŸ‰":["dragon","mythical","fire"],"ğŸ¦•":["dinosaur","sauropod","prehistoric"],"ğŸ¦–":["dinosaur","T-Rex","prehistoric"],"ğŸ³":["whale","ocean","large"],"ğŸ‹":["whale","ocean","big"],"ğŸ¬":["dolphin","ocean","friendly"],"ğŸ¦­":["seal","marine","cute"],"ğŸŸ":["fish","ocean","swim"],"ğŸ ":["tropical fish","ocean","colorful"],"ğŸ¡":["blowfish","puffer","ocean"],"ğŸ¦ˆ":["shark","ocean","dangerous"],"ğŸ™":["octopus","marine","tentacles"],"ğŸš":["shell","beach","ocean"],"ğŸª¸":["coral","reef","ocean"],"ğŸŒ":["snail","slow","mollusk"],"ğŸ¦‹":["butterfly","insect","colorful"],"ğŸ›":["caterpillar","insect","larva"],"ğŸœ":["ant","small","insect"],"ğŸ":["bee","insect","honey"],"ğŸª²":["beetle","insect","bug"],"ğŸ":["ladybug","insect","lucky"],"ğŸ¦—":["cricket","insect","chirp"],"ğŸª³":["cockroach","insect","pest"],"ğŸ•·ï¸":["spider","arachnid","insect"],"ğŸ•¸ï¸":["web","spider","trap"],"ğŸ¦‚":["scorpion","insect","venom"],"ğŸ¦Ÿ":["mosquito","insect","bite"],"ğŸª°":["fly","insect","buzz"],"ğŸª±":["worm","earth","invertebrate"],"ğŸŒ¸":["cherry blossom","flower","spring"],"ğŸ’®":["white flower","flower","symbol"],"ğŸµï¸":["rosette","flower","decorative"],"ğŸŒ¹":["rose","flower","love","romance"],"ğŸ¥€":["wilted flower","sad","decay"],"ğŸŒº":["hibiscus","flower","tropical"],"ğŸŒ»":["sunflower","flower","summer"],"ğŸŒ¼":["blossom","flower","spring"],"ğŸŒ·":["tulip","flower","spring"],"ğŸŒ±":["seedling","plant","growth"],"ğŸª´":["potted plant","indoor","green"],"ğŸŒ²":["evergreen","tree","forest"],"ğŸŒ³":["tree","nature","shade"],"ğŸŒ´":["palm tree","tropical","beach"],"ğŸŒµ":["cactus","desert","succulent"],"ğŸŒ¾":["sheaf","grain","farm"],"ğŸŒ¿":["herb","plant","leaf"],"â˜˜ï¸":["shamrock","luck","clover"],"ğŸ€":["four-leaf clover","luck","green"],"ğŸ":["maple leaf","autumn","fall"],"ğŸ‚":["fallen leaf","autumn","nature"],"ğŸƒ":["leaf","wind","nature"],"ğŸ":["apple","red","fruit","healthy"],"ğŸ":["pear","fruit","green","juicy"],"ğŸŠ":["orange","fruit","citrus","vitamin C"],"ğŸ‹":["lemon","citrus","sour","yellow"],"ğŸŒ":["banana","fruit","yellow","tropical"],"ğŸ‰":["watermelon","fruit","summer","refreshing"],"ğŸ‡":["grapes","fruit","purple","vine"],"ğŸ“":["strawberry","fruit","red","sweet"],"ğŸ«":["blueberry","fruit","blue","healthy"],"ğŸˆ":["melon","fruit","sweet","green"],"ğŸ’":["cherry","fruit","red","sweet"],"ğŸ‘":["peach","fruit","fuzzy","sweet"],"ğŸ¥­":["mango","fruit","tropical","yellow"],"ğŸ":["pineapple","fruit","tropical","spiky"],"ğŸ¥¥":["coconut","tropical","fruit","white"],"ğŸ¥":["kiwi","fruit","green","tart"],"ğŸ…":["tomato","vegetable","red","juicy"],"ğŸ†":["eggplant","vegetable","purple","aubergine"],"ğŸ¥‘":["avocado","vegetable","green","healthy"],"ğŸ¥¦":["broccoli","vegetable","green","healthy"],"ğŸ¥¬":["leafy greens","vegetable","lettuce","healthy"],"ğŸ¥’":["cucumber","vegetable","green","fresh"],"ğŸŒ¶ï¸":["chili pepper","spicy","red","hot"],"ğŸ«‘":["bell pepper","vegetable","colorful","sweet"],"ğŸ¥•":["carrot","vegetable","orange","crunchy"],"ğŸ§„":["garlic","vegetable","aromatic","flavorful"],"ğŸ§…":["onion","vegetable","strong","flavor"],"ğŸ¥”":["potato","vegetable","starchy","brown"],"ğŸ ":["sweet potato","vegetable","orange","starchy"],"ğŸ¥":["croissant","bread","pastry","flaky"],"ğŸ¥¯":["bagel","bread","round","chewy"],"ğŸ":["bread","baked","loaf","toast"],"ğŸ¥–":["baguette","bread","French","long"],"ğŸ¥¨":["pretzel","snack","salted","twisted"],"ğŸ§€":["cheese","dairy","yellow","savory"],"ğŸ¥š":["egg","protein","breakfast"],"ğŸ³":["fried egg","breakfast","cooked"],"ğŸ¥“":["bacon","meat","crispy","breakfast"],"ğŸ¥©":["steak","meat","protein","beef"],"ğŸ—":["chicken leg","meat","drumstick","grilled"],"ğŸ–":["meat on bone","barbecue","protein"],"ğŸ¦´":["bone","meat","dog","skeleton"],"ğŸŒ­":["hot dog","fast food","sausage"],"ğŸ”":["burger","fast food","beef","cheese"],"ğŸŸ":["french fries","fast food","crispy","potato"],"ğŸ•":["pizza","cheese","fast food","Italian"],"ğŸ«“":["flatbread","bread","soft"],"ğŸ¥ª":["sandwich","bread","meal"],"ğŸ¥™":["pita","bread","stuffed","Greek"],"ğŸ§†":["falafel","vegetarian","fried"],"ğŸŒ®":["taco","Mexican","spicy"],"ğŸŒ¯":["burrito","Mexican","stuffed"],"ğŸ«”":["tamale","Mexican","corn"],"ğŸ¥—":["salad","healthy","vegetable"],"ğŸ¥˜":["paella","stew","seafood"],"ğŸ«•":["fondue","melted","cheese"],"ğŸ¥«":["canned food","storage","preserved"],"ğŸ":["spaghetti","pasta","Italian"],"ğŸœ":["ramen","noodles","Asian"],"ğŸ²":["hotpot","stew","broth"],"ğŸ›":["curry","spicy","rice"],"ğŸ£":["sushi","Japanese","fish"],"ğŸ±":["bento box","Japanese","meal"],"ğŸ¥Ÿ":["dumpling","Asian","stuffed"],"ğŸ¦ª":["oyster","seafood","shellfish"],"ğŸ¤":["shrimp tempura","fried","seafood"],"ğŸ™":["rice ball","Japanese","onigiri"],"ğŸš":["cooked rice","staple","Asian"],"ğŸ˜":["rice cracker","snack","Japanese"],"ğŸ¥":["fish cake","Japanese","swirl"],"ğŸ¥ ":["fortune cookie","Chinese","paper"],"ğŸ¥®":["mooncake","Chinese","festival"],"ğŸ¢":["skewered snack","street food"],"ğŸ¡":["dango","Japanese","mochi"],"ğŸ§":["shaved ice","dessert","cold"],"ğŸ¨":["ice cream","cold","sweet"],"ğŸ¦":["soft serve","dessert","cold"],"ğŸ¥§":["pie","dessert","baked"],"ğŸ§":["cupcake","sweet","frosting"],"ğŸ°":["cake","dessert","slice"],"ğŸ‚":["birthday cake","celebration","sweet"],"ğŸ®":["flan","custard","dessert"],"ğŸ­":["lollipop","candy","sweet"],"ğŸ¬":["candy","sweet","sugar"],"ğŸ«":["chocolate","sweet","cocoa"],"ğŸ¿":["popcorn","snack","buttery"],"ğŸ©":["doughnut","sweet","fried"],"ğŸª":["cookie","sweet","baked"],"ğŸ«–":["teapot","tea","hot"],"â˜•":["coffee","hot drink","caffeine"],"ğŸµ":["green tea","hot","Japanese"],"ğŸ§ƒ":["juice","drink","fruit"],"ğŸ¥¤":["soft drink","straw","fast food"],"ğŸ§‹":["bubble tea","milk tea","boba"],"ğŸ¶":["sake","Japanese","rice wine"],"ğŸº":["beer","drink","alcohol"],"ğŸ»":["cheers","beer","drinking"],"ğŸ¥‚":["champagne","celebration","toast"],"ğŸ·":["wine","drink","red"],"ğŸ¥ƒ":["whiskey","liquor","alcohol"],"ğŸ¸":["cocktail","martini","drink"],"ğŸ¹":["tropical drink","cocktail","summer"],"ğŸ§‰":["mate","South American","tea"],"ğŸ¾":["champagne bottle","celebration","party"],"âš½":["soccer","football","sports","ball"],"ğŸ€":["basketball","sports","hoop","dunk"],"ğŸˆ":["American football","sports","rugby"],"âš¾":["baseball","sports","bat"],"ğŸ¥":["softball","sports","ball"],"ğŸ¾":["tennis","sports","racket"],"ğŸ":["volleyball","sports","beach"],"ğŸ‰":["rugby","sports","oval ball"],"ğŸ¥":["frisbee","throw","flying disc"],"ğŸ±":["billiards","8 ball","pool"],"ğŸª€":["yo-yo","toy","string"],"ğŸ“":["ping pong","table tennis","sports"],"ğŸ¸":["badminton","racket","sports"],"ğŸ’":["hockey","ice hockey","sports"],"ğŸ‘":["field hockey","sports","stick"],"ğŸ¥":["lacrosse","sports","net"],"ğŸ":["cricket","bat","sports"],"â›³":["golf","sports","hole in one"],"ğŸª":["kite","flying","wind"],"ğŸ£":["fishing","hook","water"],"ğŸ¤¿":["diving","underwater","snorkel"],"ğŸ½":["running","jersey","athlete"],"ğŸ›¹":["skateboard","sports","extreme"],"ğŸ›¼":["roller skate","sports","wheels"],"ğŸ›·":["sled","winter","snow"],"â›¸ï¸":["ice skate","winter","sports"],"ğŸ¥Œ":["curling","winter","stone"],"â›·ï¸":["skiing","winter","snow"],"ğŸ‚":["snowboarding","sports","snow"],"ğŸª‚":["parachute","skydiving","air"],"ğŸ‹ï¸":["weightlifting","gym","strong"],"ğŸ¤¼":["wrestling","fight","grapple"],"ğŸ¤¸":["gymnastics","acrobatics","flip"],"â›¹ï¸":["basketball","dribbling","sports"],"ğŸ¤¾":["handball","sports","throw"],"ğŸŒï¸":["golf","swing","sports"],"ğŸ‡":["horse racing","sports","jockey"],"ğŸ§˜":["meditation","yoga","zen"],"ğŸ„":["surfing","wave","water"],"ğŸŠ":["swimming","water","pool"],"ğŸ¤½":["water polo","sports","swimming"],"ğŸš£":["rowing","boat","water"],"ğŸ§—":["rock climbing","sports","mountain"],"ğŸš´":["cycling","bike","sports"],"ğŸšµ":["mountain biking","sports","outdoor"],"ğŸª":["circus","tent","performance"],"ğŸ­":["theater","drama","acting"],"ğŸ¨":["painting","art","colors"],"ğŸ¬":["film","clapperboard","movie"],"ğŸ¤":["microphone","singing","music"],"ğŸ§":["headphones","music","listening"],"ğŸ¼":["music","sheet","notes"],"ğŸ¹":["piano","keyboard","music"],"ğŸ¥":["drums","music","percussion"],"ğŸ·":["saxophone","jazz","music"],"ğŸº":["trumpet","brass","music"],"ğŸ¸":["guitar","music","rock"],"ğŸ»":["violin","music","strings"],"ğŸ²":["dice","game","board game"],"ğŸ¯":["dart","target","game"],"ğŸ³":["bowling","sports","pins"],"ğŸ®":["video game","console","gaming"],"ğŸ°":["slot machine","casino","gambling"],"ğŸ§©":["puzzle","pieces","brain teaser"],"ğŸ«":["ticket","event","entry"],"ğŸŸï¸":["admission","ticket","event"],"ğŸš—":["car","automobile","vehicle","transport"],"ğŸš•":["taxi","cab","transport","vehicle"],"ğŸš™":["suv","vehicle","transport"],"ğŸšŒ":["bus","public transport","commute"],"ğŸš":["trolleybus","public transport","electric"],"ğŸï¸":["race car","sports car","fast","speed"],"ğŸš“":["police car","law enforcement","vehicle"],"ğŸš‘":["ambulance","emergency","hospital"],"ğŸš’":["fire truck","firefighter","emergency"],"ğŸš":["van","minibus","transport"],"ğŸ›»":["pickup truck","off-road","vehicle"],"ğŸšš":["delivery truck","freight","cargo"],"ğŸš›":["truck","semi-trailer","transport"],"ğŸšœ":["tractor","farming","agriculture"],"ğŸ›µ":["scooter","motorbike","moped"],"ğŸï¸":["motorcycle","bike","racing"],"ğŸ›º":["rickshaw","auto rickshaw","transport"],"ğŸš²":["bicycle","bike","pedal","cycling"],"ğŸ›´":["kick scooter","scooter","ride"],"âœˆï¸":["airplane","flight","travel","sky"],"ğŸ›©ï¸":["small airplane","aviation","sky"],"ğŸ›«":["departure","takeoff","airport"],"ğŸ›¬":["landing","arrival","airport"],"ğŸš":["helicopter","aviation","air"],"ğŸš€":["rocket","space","launch","NASA"],"ğŸ›¸":["UFO","alien","spaceship","extraterrestrial"],"ğŸ›¶":["canoe","boat","paddle","water"],"â›µ":["sailboat","yacht","sea"],"ğŸš¤":["motorboat","speedboat","ocean"],"ğŸ›¥ï¸":["yacht","luxury","boat"],"ğŸ›³ï¸":["cruise ship","ocean","voyage"],"â›´ï¸":["ferry","boat","transport"],"ğŸš¢":["ship","ocean","voyage"],"ğŸ°":["castle","fortress","history"],"ğŸ¯":["Japanese castle","Asia","samurai"],"ğŸŸï¸":["stadium","sports","arena"],"ğŸ–ï¸":["beach","sun","vacation"],"ğŸï¸":["island","tropical","vacation"],"ğŸœï¸":["desert","sand","dry"],"ğŸŒ‹":["volcano","eruption","lava"],"â›°ï¸":["mountain","hiking","nature"],"ğŸ”ï¸":["snowy mountain","climbing","cold"],"ğŸ—»":["Mount Fuji","Japan","scenic"],"ğŸ•ï¸":["camping","tent","outdoors"],"ğŸ­":["factory","industry","building"],"ğŸ¢":["office building","corporate","city"],"ğŸ¬":["shopping mall","retail","stores"],"ğŸ£":["post office","mail","building"],"ğŸ¤":["post office","mail","postal service"],"ğŸ¥":["hospital","healthcare","emergency"],"ğŸ¦":["bank","money","finance"],"ğŸ¨":["hotel","accommodation","stay"],"ğŸª":["convenience store","shopping","24/7"],"ğŸ«":["school","education","learning"],"ğŸ©":["love hotel","romantic","Japan"],"ğŸ’’":["wedding","church","marriage"],"â›ª":["church","Christianity","religion"],"ğŸ•Œ":["mosque","Islam","prayer"],"ğŸ•":["synagogue","Judaism","religion"],"ğŸ›•":["hindu temple","spiritual","India"],"â›©ï¸":["shrine","torii","Japan"],"ğŸ›ï¸":["government building","politics","history"],"âŒš":["watch","smartwatch","time"],"ğŸ“±":["smartphone","mobile","phone"],"ğŸ’»":["laptop","computer","technology"],"âŒ¨ï¸":["keyboard","typing","computer"],"ğŸ–¥ï¸":["desktop","monitor","screen"],"ğŸ–¨ï¸":["printer","print","office"],"ğŸ–±ï¸":["mouse","computer","click"],"ğŸ–²ï¸":["trackball","navigation","input"],"ğŸ•¹ï¸":["joystick","gaming","console"],"ğŸ—œï¸":["clamp","tool","hardware"],"ğŸ’½":["mini disc","storage","media"],"ğŸ’¾":["floppy disk","save","data"],"ğŸ’¿":["CD","compact disc","music"],"ğŸ“€":["DVD","video","disc"],"ğŸ“¼":["VHS","video cassette","retro"],"ğŸ“·":["camera","photo","photography"],"ğŸ“¸":["camera flash","photography","snapshot"],"ğŸ“¹":["video camera","recording","film"],"ğŸ¥":["movie camera","film","cinema"],"ğŸ“":["telephone","call","communication"],"â˜ï¸":["phone","landline","call"],"ğŸ“Ÿ":["pager","message","communication"],"ğŸ“ ":["fax machine","office","document"],"ğŸ“º":["TV","television","screen"],"ğŸ“»":["radio","broadcast","audio"],"ğŸ™ï¸":["microphone","recording","podcast"],"ğŸšï¸":["control knob","audio","volume"],"ğŸ›ï¸":["sliders","equalizer","settings"],"ğŸ“¡":["satellite dish","broadcast","signal"],"ğŸ”‹":["battery","power","energy"],"ğŸ”Œ":["plug","electricity","charging"],"ğŸ’¡":["light bulb","idea","illumination"],"ğŸ”¦":["flashlight","torch","light"],"ğŸ•¯ï¸":["candle","light","fire"],"ğŸ§¯":["fire extinguisher","safety","fire"],"ğŸ›¢ï¸":["barrel","oil","fuel"],"ğŸ’¸":["money with wings","cash","spending"],"ğŸ’µ":["dollar bills","money","USD"],"ğŸ’´":["yen","money","Japan"],"ğŸ’¶":["euro","money","currency"],"ğŸ’·":["pound","money","UK"],"ğŸª™":["coin","currency","money"],"ğŸ’°":["money bag","wealth","rich"],"ğŸ’³":["credit card","banking","payment"],"ğŸ’":["gem","diamond","valuable"],"âš–ï¸":["balance scale","justice","law"],"ğŸªœ":["ladder","climb","height"],"ğŸ§°":["toolbox","tools","repair"],"ğŸ”§":["wrench","repair","tools"],"ğŸ”¨":["hammer","build","fix"],"âš’ï¸":["hammer and pick","construction","work"],"ğŸ› ï¸":["tools","fix","maintenance"],"â›ï¸":["pickaxe","mining","digging"],"âœï¸":["pencil","writing","notes"],"ğŸ–Šï¸":["pen","writing","signature"],"ğŸ–‹ï¸":["fountain pen","calligraphy","writing"],"âœ’ï¸":["nib","ink","writing"],"ğŸ–Œï¸":["paintbrush","art","painting"],"ğŸ–ï¸":["crayon","drawing","color"],"ğŸ“":["memo","notes","document"],"ğŸ“š":["books","reading","library"],"ğŸ“–":["open book","reading","story"],"ğŸ”–":["bookmark","reading","save"],"ğŸ“‘":["bookmark tabs","pages","notes"],"ğŸ—’ï¸":["spiral notepad","notes","journal"],"ğŸ“„":["document","paper","page"],"ğŸ“°":["newspaper","news","journalism"],"ğŸ—ï¸":["rolled newspaper","press","print"],"ğŸ“":["file folder","documents","storage"],"ğŸ“‚":["open folder","organization","files"],"ğŸ—‚ï¸":["card index","catalog","records"],"âŒš":["watch","smartwatch","time"],"ğŸ“±":["smartphone","mobile","phone"],"ğŸ’»":["laptop","computer","technology"],"âŒ¨ï¸":["keyboard","typing","computer"],"ğŸ–¥ï¸":["desktop","monitor","screen"],"ğŸ–¨ï¸":["printer","print","office"],"ğŸ–±ï¸":["mouse","computer","click"],"ğŸ–²ï¸":["trackball","navigation","input"],"ğŸ•¹ï¸":["joystick","gaming","console"],"ğŸ—œï¸":["clamp","tool","hardware"],"ğŸ’½":["mini disc","storage","media"],"ğŸ’¾":["floppy disk","save","data"],"ğŸ’¿":["CD","compact disc","music"],"ğŸ“€":["DVD","video","disc"],"ğŸ“¼":["VHS","video cassette","retro"],"ğŸ“·":["camera","photo","photography"],"ğŸ“¸":["camera flash","photography","snapshot"],"ğŸ“¹":["video camera","recording","film"],"ğŸ¥":["movie camera","film","cinema"],"ğŸ“":["telephone","call","communication"],"â˜ï¸":["phone","landline","call"],"ğŸ“Ÿ":["pager","message","communication"],"ğŸ“ ":["fax machine","office","document"],"ğŸ“º":["TV","television","screen"],"ğŸ“»":["radio","broadcast","audio"],"ğŸ™ï¸":["microphone","recording","podcast"],"ğŸšï¸":["control knob","audio","volume"],"ğŸ›ï¸":["sliders","equalizer","settings"],"ğŸ“¡":["satellite dish","broadcast","signal"],"ğŸ”‹":["battery","power","energy"],"ğŸ”Œ":["plug","electricity","charging"],"ğŸ’¡":["light bulb","idea","illumination"],"ğŸ”¦":["flashlight","torch","light"],"ğŸ•¯ï¸":["candle","light","fire"],"ğŸ§¯":["fire extinguisher","safety","fire"],"ğŸ›¢ï¸":["barrel","oil","fuel"],"ğŸ’¸":["money with wings","cash","spending"],"ğŸ’µ":["dollar bills","money","USD"],"ğŸ’´":["yen","money","Japan"],"ğŸ’¶":["euro","money","currency"],"ğŸ’·":["pound","money","UK"],"ğŸª™":["coin","currency","money"],"ğŸ’°":["money bag","wealth","rich"],"ğŸ’³":["credit card","banking","payment"],"ğŸ’":["gem","diamond","valuable"],"âš–ï¸":["balance scale","justice","law"],"ğŸªœ":["ladder","climb","height"],"ğŸ§°":["toolbox","tools","repair"],"ğŸ”§":["wrench","repair","tools"],"ğŸ”¨":["hammer","build","fix"],"âš’ï¸":["hammer and pick","construction","work"],"ğŸ› ï¸":["tools","fix","maintenance"],"â›ï¸":["pickaxe","mining","digging"],"âœï¸":["pencil","writing","notes"],"ğŸ–Šï¸":["pen","writing","signature"],"ğŸ–‹ï¸":["fountain pen","calligraphy","writing"],"âœ’ï¸":["nib","ink","writing"],"ğŸ–Œï¸":["paintbrush","art","painting"],"ğŸ–ï¸":["crayon","drawing","color"],"ğŸ“":["memo","notes","document"],"ğŸ“š":["books","reading","library"],"ğŸ“–":["open book","reading","story"],"ğŸ”–":["bookmark","reading","save"],"ğŸ“‘":["bookmark tabs","pages","notes"],"ğŸ—’ï¸":["spiral notepad","notes","journal"],"ğŸ“„":["document","paper","page"],"ğŸ“°":["newspaper","news","journalism"],"ğŸ—ï¸":["rolled newspaper","press","print"],"ğŸ“":["file folder","documents","storage"],"ğŸ“‚":["open folder","organization","files"],"ğŸ—‚ï¸":["card index","catalog","records"],"â¤ï¸":["heart","love","affection"],"ğŸ§¡":["orange heart","warmth","care"],"ğŸ’›":["yellow heart","friendship","happiness"],"ğŸ’š":["green heart","envy","nature","eco"],"ğŸ’™":["blue heart","loyalty","trust"],"ğŸ’œ":["purple heart","compassion","admiration"],"ğŸ¤":["brown heart","earth","stability"],"ğŸ–¤":["black heart","mourning","dark"],"ğŸ¤":["white heart","pure","peace"],"ğŸ’”":["broken heart","sad","heartbreak"],"â£ï¸":["heart exclamation","love","emotion"],"ğŸ’•":["two hearts","romance","affection"],"ğŸ’":["revolving hearts","love","relationship"],"ğŸ’“":["beating heart","emotion","passion"],"ğŸ’—":["growing heart","love","expanding"],"ğŸ’–":["sparkling heart","admiration","shine"],"ğŸ’˜":["heart with arrow","love","romance"],"ğŸ’":["heart with ribbon","gift","affection"],"ğŸ’Ÿ":["heart decoration","symbol","love"],"â˜®ï¸":["peace","pacifism","symbol"],"âœï¸":["cross","christianity","religion"],"â˜ªï¸":["star and crescent","islam","faith"],"ğŸ•‰ï¸":["om","hinduism","spiritual"],"â˜¸ï¸":["dharma wheel","buddhism","karma"],"âœ¡ï¸":["star of david","judaism","faith"],"ğŸ”¯":["hexagram","mystic","spiritual"],"ğŸ•":["menorah","hanukkah","jewish"],"â˜¯ï¸":["yin yang","balance","harmony"],"â˜¦ï¸":["orthodox cross","christianity","faith"],"ğŸ›":["place of worship","religion","faith"],"â›":["ophiuchus","zodiac","astrology"],"âš ï¸":["warning","caution","alert"],"ğŸš¸":["children crossing","school","pedestrian"],"â›”":["no entry","prohibited","restricted"],"ğŸš«":["prohibited","no","forbidden"],"ğŸš³":["no bicycles","banned","bike"],"ğŸš­":["no smoking","ban","cigarette"],"ğŸš¯":["no littering","clean","trash"],"ğŸš±":["no drinking water","prohibited","thirst"],"ğŸš·":["no pedestrians","walking","forbidden"],"ğŸ“µ":["no phones","silent","restriction"],"ğŸ”":["18+","adult content","restricted"],"â˜¢ï¸":["radioactive","hazard","danger"],"â˜£ï¸":["biohazard","toxic","warning"],"â•":["plus","addition","math"],"â–":["minus","subtraction","math"],"â—":["division","divide","math"],"âœ–ï¸":["multiplication","times","math"],"â™¾ï¸":["infinity","limitless","math"],"ğŸ’²":["dollar","money","currency"],"ğŸ’±":["currency exchange","finance","money"],"â¬†ï¸":["up arrow","increase","direction"],"â†—ï¸":["up-right arrow","growth","move"],"â¡ï¸":["right arrow","next","forward"],"â†˜ï¸":["down-right arrow","decrease","move"],"â¬‡ï¸":["down arrow","lower","decline"],"â†™ï¸":["down-left arrow","falling","move"],"â¬…ï¸":["left arrow","back","previous"],"â†–ï¸":["up-left arrow","direction","move"],"â†•ï¸":["vertical arrows","up down","change"],"â†”ï¸":["horizontal arrows","left right","switch"],"â†©ï¸":["back arrow","undo","return"],"â†ªï¸":["right curved arrow","redirect","turn"],"â¤´ï¸":["up-right arrow","diagonal","move"],"â¤µï¸":["down-right arrow","diagonal","move"],"ğŸ”ƒ":["repeat","cycle","refresh"],"ğŸ”„":["counterclockwise arrows","reload","sync"],"ğŸ”†":["bright","high brightness","sun"],"ğŸ“¶":["signal","network","connection"],"ğŸ¦":["cinema","movies","entertainment"],"ğŸ”…":["dim","low brightness","light"],"â™»ï¸":["recycle","eco","sustainability"],"âœ…":["check mark","yes","approved"],"âŒ":["cross mark","no","wrong"],"â":["negative cross","decline","cancel"],"â°":["curly loop","infinity","twist"],"â¿":["double curly loop","loop","repeat"],"ã€½ï¸":["part alternation","music","symbol"],"âœ³ï¸":["eight-spoked asterisk","star","highlight"],"âœ´ï¸":["eight-pointed star","shine","special"],"â‡ï¸":["sparkle","highlight","shine"],"Â©ï¸":["copyright","legal","rights"],"Â®ï¸":["registered","trademark","brand"],"â„¢ï¸":["trademark","brand","symbol"],"ğŸ":["checkered flag","finish line","racing"],"ğŸš©":["triangular flag","mark","warning"],"ğŸŒ":["crossed flags","celebration","Japan"],"ğŸ´":["black flag","protest","symbol"],"ğŸ³ï¸":["white flag","surrender","peace"],"ğŸ³ï¸â€ğŸŒˆ":["rainbow flag","LGBTQ+","pride"],"ğŸ³ï¸â€âš§ï¸":["transgender flag","trans","pride"],"ğŸ´â€â˜ ï¸":["pirate flag","skull","danger"],"ğŸ‡ºğŸ‡¸":["United States","USA","America"],"ğŸ‡¬ğŸ‡§":["United Kingdom","UK","Britain"],"ğŸ‡¯ğŸ‡µ":["Japan","Japanese","Asia"],"ğŸ‡°ğŸ‡·":["South Korea","Korea","Asian"],"ğŸ‡©ğŸ‡ª":["Germany","Deutschland","Europe"],"ğŸ‡¨ğŸ‡³":["China","Chinese","Asia"],"ğŸ‡§ğŸ‡·":["Brazil","Brasil","South America"],"ğŸ‡®ğŸ‡³":["India","Indian","Asia"],"ğŸ‡«ğŸ‡·":["France","French","Europe"],"ğŸ‡ªğŸ‡¸":["Spain","Spanish","Europe"],"ğŸ‡®ğŸ‡¹":["Italy","Italian","Europe"],"ğŸ‡·ğŸ‡º":["Russia","Russian","Europe"],"ğŸ‡¨ğŸ‡¦":["Canada","Canadian","North America"],"ğŸ‡¦ğŸ‡º":["Australia","Aussie","Oceania"],"ğŸ‡³ğŸ‡¿":["New Zealand","Kiwi","Oceania"]};class _e{constructor(e={}){this.container=null,this.searchInput=null,this.emojiContainer=null,this.categoryNav=null,this.options={onEmojiSelect:e.onEmojiSelect||(()=>{}),container:e.container||document.body,position:e.position||"bottom"},this.categories={recent:{name:"Recently Used",icon:"ğŸ•’"},smileys:{name:"Smileys & People",icon:"ğŸ˜Š"},nature:{name:"Animals & Nature",icon:"ğŸ¦Š"},food:{name:"Food & Drink",icon:"ğŸ”"},activities:{name:"Activities",icon:"âš½"},travel:{name:"Travel & Places",icon:"âœˆï¸"},objects:{name:"Objects",icon:"ğŸ’¡"},symbols:{name:"Symbols",icon:"ğŸ’•"},flags:{name:"Flags",icon:"ğŸŒ"}},this.emojiData=Ve,this.emojiKeywords=Ke,this.recentEmojis=this.loadRecentEmojis(),this.batchSize=50,this.loadedIndices={},this.categorySections={}}init(){return this.createPanel(),this.bindEvents(),this.loadAllEmojis(),this}createPanel(){this.container=document.createElement("div"),this.container.className="emoji-panel";const e=document.createElement("div");e.className="emoji-search-container",this.searchInput=document.createElement("input"),this.searchInput.type="search",this.searchInput.className="emoji-search",e.appendChild(this.searchInput),this.categoryNav=document.createElement("div"),this.categoryNav.className="emoji-categories",Object.entries(this.categories).forEach((([e,t])=>{const n=document.createElement("button");n.className="emoji-category-btn",n.dataset.category=e,n.innerHTML=t.icon,n.title=t.name,this.categoryNav.appendChild(n)})),this.emojiContainer=document.createElement("div"),this.emojiContainer.className="emoji-container",this.infoPanel=document.createElement("div"),this.infoPanel.className="emoji-info-panel",this.infoIcon=document.createElement("span"),this.infoIcon.className="emoji-info-icon",this.infoKeywords=document.createElement("span"),this.infoKeywords.className="emoji-info-keywords",this.infoPanel.appendChild(this.infoIcon),this.infoPanel.appendChild(this.infoKeywords),this.container.appendChild(e),this.container.appendChild(this.categoryNav),this.container.appendChild(this.emojiContainer),this.container.appendChild(this.infoPanel),this.options.container.appendChild(this.container)}loadAllEmojis(){this.emojiContainer.innerHTML="",this.loadedIndices={},this.categorySections={},Object.keys(this.categories).forEach((e=>{const t=document.createElement("div");t.className="emoji-category-section",t.id="emoji-section-"+e;const n=document.createElement("div");n.className="emoji-category-header",n.textContent=this.categories[e].name,t.appendChild(n);const i=document.createElement("div");i.className="emoji-list",t.appendChild(i),this.emojiContainer.appendChild(t),this.loadedIndices[e]=0,this.categorySections[e]={section:t,emojiList:i,header:n},this.loadMoreEmojisForCategory(e)}))}loadMoreEmojisForCategory(e){const t="recent"===e?this.recentEmojis:this.emojiData[e]||[],n=this.loadedIndices[e],i=t.slice(n,n+this.batchSize);if(!i.length)return;const a=this.categorySections[e].emojiList;i.forEach((e=>{const t=document.createElement("button");t.className="emoji-btn",t.textContent=e,t.addEventListener("mouseenter",(()=>{this.updateInfoPanel(e)})),t.addEventListener("mouseleave",(()=>{this.clearInfoPanel()})),t.addEventListener("click",(()=>{this.addToRecent(e),this.options.onEmojiSelect(e)})),a.appendChild(t)})),this.loadedIndices[e]+=i.length}searchEmojis(e){this.emojiContainer.innerHTML="";const t=document.createElement("div");t.className="emoji-category-section";const n=document.createElement("div");n.className="emoji-category-header",n.textContent="Search Results",t.appendChild(n);const i=document.createElement("div");i.className="emoji-list",t.appendChild(i);const a=[];Object.keys(this.emojiData).forEach((t=>{(this.emojiData[t]||[]).forEach((t=>{const n=this.emojiKeywords[t]||[];(t.includes(e)||n.some((t=>t.includes(e))))&&a.push(t)}))})),a.forEach((e=>{const t=document.createElement("button");t.className="emoji-btn",t.textContent=e,t.addEventListener("mouseenter",(()=>{this.updateInfoPanel(e)})),t.addEventListener("mouseleave",(()=>{this.clearInfoPanel()})),t.addEventListener("click",(()=>{this.addToRecent(e),this.options.onEmojiSelect(e)})),i.appendChild(t)})),this.emojiContainer.appendChild(t)}bindEvents(){document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.container.classList.contains("visible")&&this.hide()})),this.searchInput.addEventListener("input",(e=>{const t=e.target.value.trim().toLowerCase();t?this.searchEmojis(t):this.loadAllEmojis()})),this.categoryNav.addEventListener("click",(e=>{const t=e.target.closest(".emoji-category-btn");if(t){const e=t.dataset.category,n=document.getElementById("emoji-section-"+e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}})),this.emojiContainer.addEventListener("scroll",(()=>{this.handleScroll()}))}handleScroll(){Object.keys(this.categorySections).forEach((e=>{const{section:t}=this.categorySections[e],n=t.getBoundingClientRect(),i=this.emojiContainer.getBoundingClientRect();n.bottom<i.bottom+100&&this.loadMoreEmojisForCategory(e)}));let e=null,t=1/0;Object.keys(this.categorySections).forEach((n=>{const i=this.categorySections[n].header.getBoundingClientRect(),a=this.emojiContainer.getBoundingClientRect(),o=Math.abs(i.top-a.top);i.top<=a.top+10&&o<t&&(t=o,e=n)})),e&&this.highlightCategory(e)}updateInfoPanel(e){this.infoIcon.textContent=e;const t=this.emojiKeywords[e]||[];this.infoKeywords.textContent=t.join(", ")}clearInfoPanel(){this.infoIcon.textContent="",this.infoKeywords.textContent=""}addToRecent(e){this.recentEmojis=[e,...this.recentEmojis.filter((t=>t!==e))].slice(0,25),this.saveRecentEmojis()}loadRecentEmojis(){try{return JSON.parse(localStorage.getItem("recentEmojis"))||[]}catch{return[]}}saveRecentEmojis(){try{localStorage.setItem("recentEmojis",JSON.stringify(this.recentEmojis))}catch(e){console.error("Failed to save recent emojis:",e)}}highlightCategory(e){this.categoryNav.querySelectorAll(".emoji-category-btn").forEach((t=>{t.classList.toggle("active",t.dataset.category===e)}))}show(){this.container.classList.add("visible")}hide(){this.container.classList.remove("visible")}toggle(){this.container.classList.toggle("visible")}}var Ye=n(498),Xe={};Xe.styleTagTransform=u(),Xe.setAttributes=d(),Xe.insert=c().bind(null,"head"),Xe.domAPI=r(),Xe.insertStyleElement=m();a()(Ye.A,Xe);Ye.A&&Ye.A.locals&&Ye.A.locals;function Qe(){if(function(){try{return window!==window.top}catch(e){return!0}}())return console.error("Application cannot run in an iframe"),!1;const e=new URLSearchParams(window.location.search);if("/g/"===window.location.pathname&&e.has("gmid"))return!1;if(window.location.href.includes("/gamelist/"))return function(){if(window.location.href.startsWith("https://klavogonki.ru/gamelist/"))try{const e=Array.from(document.scripts).find((e=>e.text.includes("PageData")));if(!e)throw new Error("PageData script not found");const t=e.text.match(/\.constant\('PageData', ([\s\S]*?})\)/)[1],n=JSON.parse(t.replace(/(\w+):/g,'"$1":').replace(/'/g,'"')),i=`${n.chatParams.user.id}#${n.chatParams.user.login}`,a=n.chatParams.pass;localStorage.getItem("klavoauth")||(localStorage.setItem("klavoauth",JSON.stringify({username:i,password:a})),setTimeout((()=>{window.location.href="https://klavogonki.ru"}),500))}catch(e){console.error("Auth error:",e),localStorage.removeItem("klavoauth"),alert(`Auth failed: ${e.message}\nPlease refresh the page.`)}}(),!1;return!!(localStorage.getItem("klavoauth")&&v.username&&v.password)||(localStorage.removeItem("klavoauth"),window.location.href="https://klavogonki.ru/gamelist/",!1)}!async function(){try{if(!Qe())return;Ie(),function(){const e=document.getElementById("app-chat-container"),t=document.getElementById("chat-close-btn"),n=document.getElementById("chat-header");if(!e)return;const i=JSON.parse(localStorage.getItem("chatState"))||{},a=i.floating||!1,o=!1!==i.isVisible;a?(e.style.display=o?"flex":"none",e.style.opacity=o?"1":"0"):(e.classList.remove("visible-chat","hidden-chat"),e.classList.add(o?"visible-chat":"hidden-chat")),document.addEventListener("keydown",(e=>{e.ctrlKey&&e.shiftKey&&"Space"===e.code?(e.preventDefault(),Me()):e.ctrlKey&&"Space"===e.code&&(e.preventDefault(),ze())})),t&&t.addEventListener("click",ze),n&&n.addEventListener("dblclick",ze)}(),document.addEventListener("mousedown",(e=>{if(!e.target.closest(".chat-drag-area"))return;const t=document.getElementById("app-chat-container");let n=oe();if(Re=!0,Te=e.clientX,Ae=e.clientY,Ne=t.offsetLeft,Pe=parseInt(t.style.top)||t.getBoundingClientRect().top,!n.floating){const e=window.innerHeight-t.offsetHeight;t.style.top=e+"px",t.style.bottom="",n.top=e,n.floating=!0,t.classList.add("floating-chat"),ce(n)}document.body.style.userSelect="none"})),document.addEventListener("mousemove",(e=>{if(!Re)return;const t=document.getElementById("app-chat-container"),n=window.innerWidth,i=window.innerHeight,a=e.clientX-Te,o=e.clientY-Ae,r=le(Ne+a,0,n-t.offsetWidth),s=le(Pe+o,0,i-t.offsetHeight);t.style.left=r+"px",t.style.top=s+"px";let c=oe();c.left=r,c.top=s,c.floating=!0,ce(c)})),document.addEventListener("mouseup",(()=>{if(!Re)return;Re=!1;const e=document.getElementById("app-chat-container"),t=window.innerWidth,n=window.innerHeight,i=e.getBoundingClientRect(),a=i.left<0||i.top<0||i.right>t||i.bottom>n,o=n-i.bottom<50;let r=oe();a||o?(e.style.top="",e.style.bottom="0",r.floating=!1,e.classList.remove("floating-chat")):(r.floating=!0,r.top=i.top,e.classList.add("floating-chat")),ce(r),document.body.style.userSelect=""})),document.addEventListener("mousedown",(e=>{const t=e.target.closest(".resize-handle");if(!t)return;Je=!0,Oe=t.classList[1];const n=document.getElementById("app-chat-container");qe=e.clientX,Be=e.clientY,He=n.offsetWidth,Ue=n.offsetHeight,De=n.offsetLeft,Fe=parseInt(n.style.top)||n.getBoundingClientRect().top,We=e.clientY-Fe,document.body.style.userSelect="none"})),document.addEventListener("mousemove",(e=>{if(!Je)return;const t=document.getElementById("app-chat-container"),n=window.innerWidth,i=window.innerHeight,a=getComputedStyle(document.documentElement),o=parseInt(a.getPropertyValue("--min-chat-width"))||250,r=parseInt(a.getPropertyValue("--min-chat-height"))||200;let s=oe();if("left"===Oe){const i=Math.max(o,He-(e.clientX-qe)),a=le(De+(e.clientX-qe),0,n-i);t.style.width=i+"px",t.style.left=a+"px",s.width=i,s.left=a}else if("right"===Oe){const i=n-t.getBoundingClientRect().left,a=Math.min(i,Math.max(o,He+(e.clientX-qe)));t.style.width=a+"px",s.width=a}const c=e.clientY-We;if("top"===Oe)if(!1===s.floating){let e=le(c,0,i-r),n=i-e;t.style.top=e+"px",t.style.height=n+"px",s.top=e,s.height=n}else{let e=le(c,0,Fe+Ue-r),n=Ue-(e-Fe);n=Math.min(n,i),t.style.top=e+"px",t.style.height=n+"px",s.top=e,s.height=n}if("left"===Oe||"right"===Oe)if(!1===s.floating){let e=le(c,0,i-r),n=i-e;t.style.top=e+"px",t.style.height=n+"px",s.top=e,s.height=n}else{let e=le(c,0,Fe+Ue-r),n=Ue-(e-Fe);n=Math.min(n,i-e),t.style.top=e+"px",t.style.height=n+"px",s.top=e,s.height=n}t.offsetHeight>i&&(t.style.height=i+"px",!1===s.floating&&(t.style.top="0px",s.top=0),s.height=i),ce(s),ie()})),document.addEventListener("mouseup",(()=>{Je=!1,document.body.style.userSelect=""})),window.addEventListener("resize",(()=>{ae(),ie()})),function(){const e=document.getElementById("messages-panel");if(!e)return;new MutationObserver((()=>{ie(),J(),B(),ve()})).observe(e,{childList:!0,subtree:!0})}();const e=new Le("user-list"),t=new Ce("messages-panel",de(v.username)),n=function(e,t,n,i){return{userManager:t,messageManager:n,async connect(){try{const a=await e.connect();console.log("ğŸ’¬ Step 8: Joining chat room...");const o=`<body rid='${e.nextRid()}' sid='${a.sid}'\n                 xmlns='http://jabber.org/protocol/httpbind'>\n            <presence id='pres_1' xmlns='jabber:client' to='general@conference.jabber.klavogonki.ru/${i}'>\n              <x xmlns='http://jabber.org/protocol/muc'/>\n            </presence>\n          </body>`,r=await e.sendRequestWithRetry(o);console.log("ğŸ“¥ Join response:",r),t.updatePresence(r),n.processMessages(r);const s=`<body rid='${e.nextRid()}' sid='${a.sid}'\n                 xmlns='http://jabber.org/protocol/httpbind'>\n            <iq type='get' id='info1' xmlns='jabber:client' to='general@conference.jabber.klavogonki.ru'>\n              <query xmlns='http://jabber.org/protocol/disco#info'/>\n            </iq>\n          </body>`;await e.sendRequestWithRetry(s),setInterval((async()=>{const i=await e.sendRequestWithRetry(`<body rid='${e.nextRid()}' sid='${a.sid}' xmlns='http://jabber.org/protocol/httpbind'/>`);t.updatePresence(i),n.processMessages(i)}),5e3),console.log("ğŸš€ Step 10: Connected! Starting presence updates...")}catch(e){console.error(`ğŸ’¥ Error: ${e.message}`)}},sendMessage(t){const a=`msg_${Date.now()}`;let o;Ee.isPrivateMode&&Ee.fullJid?(o=`\n          <body rid='${e.nextRid()}' sid='${e.sid}' xmlns='http://jabber.org/protocol/httpbind'>\n            <message from='${i}@jabber.klavogonki.ru/web' \n                     to='${Ee.fullJid}' \n                     type='chat' \n                     id='${a}' \n                     xmlns='jabber:client'>\n              <body>${t}</body>\n              <x xmlns='klavogonki:userdata'>\n                <user>\n                  <login>${i.replace(/^\d+#/,"")}</login>\n                  <avatar>/storage/avatars/${i.split("#")[0]}.png</avatar>\n                  <background>#7788cc</background>\n                </user>\n              </x>\n            </message>\n          </body>\n        `,n.addSentMessage(t,{isPrivate:!0,recipient:Ee.targetUsername})):(o=`\n          <body rid='${e.nextRid()}' sid='${e.sid}' xmlns='http://jabber.org/protocol/httpbind'>\n            <message to='general@conference.jabber.klavogonki.ru'\n                     type='groupchat'\n                     id='${a}'\n                     xmlns='jabber:client'>\n              <body>${t}</body>\n            </message>\n          </body>\n        `,n.addSentMessage(t)),e.sendRequestWithRetry(o).then((e=>{n.processMessages(e)})).catch(console.error)}}}(new E({username:v.username,password:v.password,bindUrl:y,delay:200}),e,t,v.username),i=document.getElementById("message-input"),a=()=>{const e=i.value.trim();e&&(n.sendMessage(e),i.value="",i.focus())};document.getElementById("send-button").addEventListener("click",a),i.addEventListener("keypress",(e=>"Enter"===e.key&&a()));const o=new _e({container:document.querySelector(".input-container"),position:"top",onEmojiSelect:e=>{i.value+=e,i.focus(),o.hide()}}).init();document.querySelector(".emoji-trigger").addEventListener("click",(()=>{o.toggle()})),document.addEventListener("click",(e=>{e.target.closest(".emoji-panel")||e.target.closest(".emoji-trigger")||o.hide()})),function(){const e=document.getElementById("message-input");e&&(e.addEventListener("keydown",(e=>{"Escape"===e.key&&Ee.isPrivateMode&&(Se(),e.preventDefault())})),e.addEventListener("input",(()=>{je(e)})))}(),await n.connect(),window.xmppClient=n,i.addEventListener("input",(function(e){je(e.target)}))}catch(e){console.error("App init error:",e),localStorage.removeItem("klavoauth"),window.location.href="https://klavogonki.ru/gamelist/"}}()})();